/*
jQWidgets v3.7.1 (2015-Feb)
Copyright (c) 2011-2015 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxChart","",{});a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){var b={title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:true,enableAxisTextAnimation:false,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:true,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:true,legendLayout:null,enabled:true,colorScheme:"scheme01",animationDuration:500,showToolTips:true,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4000,toolTipFormatFunction:null,columnSeriesOverlap:false,rtl:false,legendPosition:null,greyScale:false,axisPadding:5,enableCrosshairs:false,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:true,_itemsToggleState:[],_isToggleRefresh:false,drawBefore:null,draw:null};a.extend(true,this,b);this._createColorsCache()},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]}else{return b}},destroy:function(){this.host.remove()},createInstance:function(d){if(!a.jqx.dataAdapter){throw"jqxdata.js is not loaded"}var c=this;c._refreshOnDownloadComlete();c._isTouchDevice=a.jqx.mobile.isTouchDevice();c.addHandler(c.host,c._getEvent("mousemove"),function(g){if(c.enabled==false){return}g.preventDefault();var f=g.pageX||g.clientX||g.screenX;var j=g.pageY||g.clientY||g.screenY;var i=c.host.offset();if(c._isTouchDevice){var h=a.jqx.position(g);f=h.left;j=h.top}f-=i.left;j-=i.top;c.onmousemove(f,j)});c.addHandler(c.host,c._getEvent("mouseleave"),function(h){if(c.enabled==false){return}var f=c._mouseX;var i=c._mouseY;var g=c._plotRect;if(g&&f>=g.x&&f<=g.x+g.width&&i>=g.y&&i<=g.y+g.height){return}c._cancelTooltipTimer();c._hideToolTip(0);c._unselect()});c.addHandler(c.host,"click",function(g){if(c.enabled==false){return}var f=g.pageX||g.clientX||g.screenX;var j=g.pageY||g.clientY||g.screenY;var i=c.host.offset();if(c._isTouchDevice){var h=a.jqx.position(g);f=h.left;j=h.top}else{g.preventDefault()}f-=i.left;j-=i.top;c._mouseX=f;c._mouseY=j;if(!isNaN(c._lastClickTs)){if((new Date()).valueOf()-c._lastClickTs<100){return}}this._hostClickTimer=setTimeout(function(){if(!c._isTouchDevice){c._cancelTooltipTimer();c._hideToolTip();c._unselect()}if(c._pointMarker&&c._pointMarker.element){var l=c.seriesGroups[c._pointMarker.gidx];var k=l.series[c._pointMarker.sidx];c._raiseItemEvent("click",l,k,c._pointMarker.iidx)}},100)});var e=c.element.style;if(e){var b=false;if(e.width!=null){b|=e.width.toString().indexOf("%")!=-1}if(e.height!=null){b|=e.height.toString().indexOf("%")!=-1}if(b){a.jqx.utilities.resize(this.host,function(){if(c.timer){clearTimeout(c.timer)}var f=1;c.timer=setTimeout(function(){var g=c.enableAnimations;c.enableAnimations=false;c.refresh();c.enableAnimations=g},f)},false,true)}}},_refreshOnDownloadComlete:function(){var d=this;var e=this.source;if(e instanceof a.jqx.dataAdapter){var f=e._options;if(f==undefined||(f!=undefined&&!f.autoBind)){e.autoSync=false;e.dataBind()}var c=this.element.id;if(e.records.length==0){var b=function(){if(d.ready){d.ready()}d.refresh()};e.unbindDownloadComplete(c);e.bindDownloadComplete(c,b)}else{if(d.ready){d.ready()}}e.unbindBindingUpdate(c);e.bindBindingUpdate(c,function(){d.refresh()})}},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"){this._refreshOnDownloadComlete()}this.refresh()},_initRenderer:function(b){if(!a.jqx.createRenderer){throw"Please include jqxdraw.js"}return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(a.jqx.isHidden(b.host)){return}b._stopAnimations();if(!b.renderer||(!b._isToggleRefresh&&!b._isUpdate)){b._isVML=false;b.host.empty();b._ttEl=undefined;b._initRenderer(b.host)}var d=b.renderer;if(!d){return}var c=d.getRect();b._render({x:1,y:1,width:c.width,height:c.height});this._raiseEvent("refreshBegin",{instance:this});if(d instanceof a.jqx.HTML5Renderer){d.refresh()}b._isUpdate=false;this._raiseEvent("refreshEnd",{instance:this})},saveAsPDF:function(d,b,c){return this._saveAsImage("pdf",d,b,c)},saveAsPNG:function(d,b,c){return this._saveAsImage("png",d,b,c)},saveAsJPEG:function(d,b,c){return this._saveAsImage("jpeg",d,b,c)},_saveAsImage:function(d,e,b,c){return a.jqx._widgetToImage(this,d,e,b,c)},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=true;this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],_render:function(C){var m=this;var I=m.renderer;m._colorsCache.clear();if(!m._isToggleRefresh&&m._isUpdate&&m._renderData){m._renderDataClone()}m._renderData=[];I.clear();m._unselect();m._hideToolTip(0);var n=m.backgroundImage;if(n==undefined||n==""){m.host.css({"background-image":""})}else{m.host.css({"background-image":(n.indexOf("(")!=-1?n:"url('"+n+"')")})}m._rect=C;var Y=m.padding||{left:5,top:5,right:5,bottom:5};var q=I.createClipRect(C);var L=I.beginGroup();I.setClip(L,q);var ah=I.rect(C.x,C.y,C.width-2,C.height-2);if(n==undefined||n==""){I.attr(ah,{fill:m.backgroundColor||m.background||"white"})}else{I.attr(ah,{fill:"transparent"})}if(m.showBorderLine!=false){var F=m.borderLineColor==undefined?m.borderColor:m.borderLineColor;if(F==undefined){F=m._defaultLineColor}var o=this.borderLineWidth;if(isNaN(o)||o<0||o>10){o=1}I.attr(ah,{"stroke-width":o,stroke:F})}else{if(a.jqx.browser.msie&&a.jqx.browser.version<9){I.attr(ah,{"stroke-width":1,stroke:m.backgroundColor||"white"})}}if(a.isFunction(m.drawBefore)){m.drawBefore(I,C)}var V={x:Y.left,y:Y.top,width:C.width-Y.left-Y.right,height:C.height-Y.top-Y.bottom};m._paddedRect=V;var e=m.titlePadding||{left:2,top:2,right:2,bottom:2};var l;if(m.title&&m.title.length>0){var S=m.toThemeProperty("jqx-chart-title-text",null);l=I.measureText(m.title,0,{"class":S});I.text(m.title,V.x+e.left,V.y+e.top,V.width-(e.left+e.right),l.height,0,{"class":S},true,"center","center");V.y+=l.height;V.height-=l.height}if(m.description&&m.description.length>0){var T=m.toThemeProperty("jqx-chart-title-description",null);l=I.measureText(m.description,0,{"class":T});I.text(m.description,V.x+e.left,V.y+e.top,V.width-(e.left+e.right),l.height,0,{"class":T},true,"center","center");V.y+=l.height;V.height-=l.height}if(m.title||m.description){V.y+=(e.bottom+e.top);V.height-=(e.bottom+e.top)}var b={x:V.x,y:V.y,width:V.width,height:V.height};m._plotRect=b;m._buildStats(b);var H=m._isPieOnlySeries();var s=m.seriesGroups;var E;var D={xAxis:{},valueAxis:{}};for(var Z=0;Z<s.length&&!H;Z++){if(s[Z].type=="pie"||s[Z].type=="donut"){continue}var z=m._getXAxis(Z);if(!z){throw"seriesGroup["+Z+"] is missing xAxis definition"}var ae=z==m._getXAxis()?-1:Z;D.xAxis[ae]=0}var U=m.axisPadding;if(isNaN(U)){U=5}var r={left:0,right:0,leftCount:0,rightCount:0};var p=[];for(Z=0;Z<s.length;Z++){var ad=s[Z];if(ad.type=="pie"||ad.type=="donut"||ad.spider==true||ad.polar==true){p.push({width:0,position:0,xRel:0});continue}E=ad.orientation=="horizontal";var z=m._getXAxis(Z);var ae=z==m._getXAxis()?-1:Z;var k=m._getValueAxis(Z);var O=k==m._getValueAxis()?-1:Z;var R=!E?k.axisSize:z.axisSize;var f={x:0,y:b.y,width:b.width,height:b.height};var Q=E?m._getXAxis(Z).position:k.position;if(!R||R=="auto"){if(E){R=this._renderXAxis(Z,f,true,b).width;if((D.xAxis[ae]&1)==1){R=0}else{if(R>0){D.xAxis[ae]|=1}}}else{R=m._renderValueAxis(Z,f,true,b).width;if((D.valueAxis[O]&1)==1){R=0}else{if(R>0){D.valueAxis[O]|=1}}}}if(Q!="left"&&m.rtl==true){Q="right"}if(Q!="right"){Q="left"}if(r[Q+"Count"]>0&&r[Q]>0&&R>0){r[Q]+=U}p.push({width:R,position:Q,xRel:r[Q]});r[Q]+=R;r[Q+"Count"]++}var u=Math.max(1,Math.max(C.width,C.height));var ac={top:0,bottom:0,topCount:0,bottomCount:0};var W=[];for(Z=0;Z<s.length;Z++){var ad=s[Z];if(ad.type=="pie"||ad.type=="donut"||ad.spider==true||ad.polar==true){W.push({height:0,position:0,yRel:0});continue}E=ad.orientation=="horizontal";var k=this._getValueAxis(Z);var O=k==m._getValueAxis()?-1:Z;var z=m._getXAxis(Z);var ae=z==m._getXAxis()?-1:Z;var ab=!E?z.axisSize:k.axisSize;var Q=E?k.position:z.position;if(!ab||ab=="auto"){if(E){ab=m._renderValueAxis(Z,{x:0,y:0,width:u,height:0},true,b).height;if((D.valueAxis[O]&2)==2){ab=0}else{if(ab>0){D.valueAxis[O]|=2}}}else{ab=m._renderXAxis(Z,{x:0,y:0,width:u,height:0},true).height;if((D.xAxis[ae]&2)==2){ab=0}else{if(ab>0){D.xAxis[ae]|=2}}}}if(Q!="top"){Q="bottom"}if(ac[Q+"Count"]>0&&ac[Q]>0&&ab>0){ac[Q]+=U}W.push({height:ab,position:Q,yRel:ac[Q]});ac[Q]+=ab;ac[Q+"Count"]++}m._createAnimationGroup("series");var t=(m.showLegend!=false);var B=!t?{width:0,height:0}:m._renderLegend(m.legendLayout?m._rect:V,true);if(this.legendLayout&&(!isNaN(this.legendLayout.left)||!isNaN(this.legendLayout.top))){B={width:0,height:0}}if(V.height<ac.top+ac.bottom+B.height||V.width<r.left+r.right){I.endGroup();return}b.height-=ac.top+ac.bottom+B.height;b.x+=r.left;b.width-=r.left+r.right;b.y+=ac.top;var G=[];if(!H){var af=m._getXAxis().tickMarksColor||m._defaultLineColor;for(Z=0;Z<s.length;Z++){var ad=s[Z];if(ad.polar==true||ad.spider==true||ad.type=="pie"||ad.type=="donut"){continue}E=ad.orientation=="horizontal";var ae=m._getXAxis(Z)==m._getXAxis()?-1:Z;var O=m._getValueAxis(Z)==m._getValueAxis()?-1:Z;var f={x:b.x,y:0,width:b.width,height:W[Z].height};if(W[Z].position!="top"){f.y=b.y+b.height+W[Z].yRel}else{f.y=b.y-W[Z].yRel-W[Z].height}if(E){if((D.valueAxis[O]&4)==4){continue}if(!m._isGroupVisible(Z)){continue}m._renderValueAxis(Z,f,false,b);D.valueAxis[O]|=4}else{G.push(f);if((D.xAxis[ae]&4)==4){continue}if(!m._isGroupVisible(Z)){continue}m._renderXAxis(Z,f,false,b);D.xAxis[ae]|=4}}}if(t){var A=m.legendLayout?m._rect:V;var P=V.x+a.jqx._ptrnd((V.width-B.width)/2);var N=b.y+b.height+ac.bottom;var R=V.width;var ab=B.height;if(m.legendLayout){if(!isNaN(m.legendLayout.left)){P=m.legendLayout.left}if(!isNaN(m.legendLayout.top)){N=m.legendLayout.top}if(!isNaN(m.legendLayout.width)){R=m.legendLayout.width}if(!isNaN(m.legendLayout.height)){ab=m.legendLayout.height}}if(P+R>A.x+A.width){R=A.x+A.width-P}if(N+ab>A.y+A.height){ab=A.y+A.height-N}m._renderLegend({x:P,y:N,width:R,height:ab})}m._hasHorizontalLines=false;if(!H){for(Z=0;Z<s.length;Z++){var ad=s[Z];if(ad.polar==true||ad.spider==true||ad.type=="pie"||ad.type=="donut"){continue}E=s[Z].orientation=="horizontal";var f={x:b.x-p[Z].xRel-p[Z].width,y:b.y,width:p[Z].width,height:b.height};if(p[Z].position!="left"){f.x=b.x+b.width+p[Z].xRel}var ae=m._getXAxis(Z)==m._getXAxis()?-1:Z;var O=m._getValueAxis(Z)==m._getValueAxis()?-1:Z;if(E){G.push(f);if((D.xAxis[ae]&8)==8){continue}if(!m._isGroupVisible(Z)){continue}m._renderXAxis(Z,f,false,b);D.xAxis[ae]|=8}else{if((D.valueAxis[O]&8)==8){continue}if(!m._isGroupVisible(Z)){continue}m._renderValueAxis(Z,f,false,b);D.valueAxis[O]|=8}}}if(b.width<=0||b.height<=0){return}m._plotRect={x:b.x,y:b.y,width:b.width,height:b.height};for(Z=0;Z<s.length;Z++){this._drawPlotAreaLines(Z,true,{gridLines:false,tickMarks:false,alternatingBackground:true});this._drawPlotAreaLines(Z,false,{gridLines:false,tickMarks:false,alternatingBackground:true})}for(Z=0;Z<s.length;Z++){this._drawPlotAreaLines(Z,true,{gridLines:true,tickMarks:true,alternatingBackground:false});this._drawPlotAreaLines(Z,false,{gridLines:true,tickMarks:true,alternatingBackground:false})}var K=false;for(Z=0;Z<s.length&&!K;Z++){var ad=s[Z];if(ad.annotations!==undefined||a.isFunction(ad.draw)||a.isFunction(ad.drawBefore)){K=true;break}}var M=I.beginGroup();if(!K){var J=I.createClipRect({x:b.x-2,y:b.y,width:b.width+4,height:b.height});I.setClip(M,J)}for(Z=0;Z<s.length;Z++){var ad=s[Z];var c=false;for(var ag in m._seriesTypes){if(m._seriesTypes[ag]==ad.type){c=true;break}}if(!c){throw'Invalid serie type "'+ad.type+'"'}if(a.isFunction(ad.drawBefore)){ad.drawBefore(I,C,Z,this)}if(ad.polar==true||ad.spider==true){if(ad.type.indexOf("pie")==-1&&ad.type.indexOf("donut")==-1){m._renderSpiderAxis(Z,b)}}m._renderAxisBands(Z,b,true);m._renderAxisBands(Z,b,false)}for(Z=0;Z<s.length;Z++){var ad=s[Z];if(m._isColumnType(ad.type)){m._renderColumnSeries(Z,b)}else{if(ad.type.indexOf("pie")!=-1||ad.type.indexOf("donut")!=-1){m._renderPieSeries(Z,b)}else{if(ad.type.indexOf("line")!=-1||ad.type.indexOf("area")!=-1){m._renderLineSeries(Z,b)}else{if(ad.type.indexOf("scatter")!=-1||ad.type.indexOf("bubble")!=-1){m._renderScatterSeries(Z,b)}else{if(ad.type.indexOf("candlestick")!=-1||ad.type.indexOf("ohlc")!=-1){m._renderCandleStickSeries(Z,b,ad.type.indexOf("ohlc")!=-1)}}}}}if(ad.annotations){if(!this._moduleAnnotations){throw"Please include 'jqxchart.annotations.js'"}for(var X=0;X<ad.annotations.length;X++){m._renderAnnotation(Z,ad.annotations[X],b)}}if(a.isFunction(ad.draw)){m.draw(I,C,Z,this)}}I.endGroup();if(m.enabled==false){var aa=I.rect(C.x,C.y,C.width,C.height);I.attr(aa,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}if(a.isFunction(m.draw)){m.draw(I,C)}I.endGroup();m._startAnimation("series");if(z&&z.rangeSelector){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}var d=[];if(!this._isSelectorRefresh){m.removeHandler(a(document),m._getEvent("mousemove"),m._onSliderMouseMove);m.removeHandler(a(document),m._getEvent("mousedown"),m._onSliderMouseDown);m.removeHandler(a(document),m._getEvent("mouseup"),m._onSliderMouseUp)}for(Z=0;Z<m.seriesGroups.length;Z++){var v=this._getXAxis(Z);if(d.indexOf(v)==-1){if(this._renderXAxisRangeSelector(Z,G[Z])){d.push(v)}}}}},_isPieOnlySeries:function(){var c=this.seriesGroups;if(c.length==0){return false}for(var b=0;b<c.length;b++){if(c[b].type!="pie"&&c[b].type!="donut"){return false}}return true},_renderChartLegend:function(S,B,P,u){var k=this;var C=k.renderer;var H={x:B.x+3,y:B.y+3,width:B.width-6,height:B.height-6};var D={width:H.width,height:0};var F=0,E=0;var p=20;var l=0;var f=10;var N=10;var v=0;for(var M=0;M<S.length;M++){var I=S[M].css;if(!I){I=k.toThemeProperty("jqx-chart-legend-text",null)}p=20;var z=S[M].text;var j=C.measureText(z,0,{"class":I});if(j.height>p){p=j.height}if(j.width>v){v=j.width}if(u){if(M!=0){E+=p}if(E>H.height){E=0;F+=v+2*N+f;v=j.width;D.width=F+v}}else{if(F!=0){F+=N}if(F+2*f+j.width>H.width&&j.width<H.width){F=0;E+=p;p=20;l=H.width;D.height=E+p}}var J=false;if(j.width>B.width){J=true;var q=B.width;var Q=z;var U=Q.split(/\s+/).reverse();var m=[];var s="";var o=[];while(undefined!=(word=U.pop())){m.push(word);s=m.join(" ");var A=k.renderer.measureText(s,0,{"class":I});if(A.width>q&&o.length>0){m.pop();m=[word];s=m.join(" ")}o.push({text:s})}j.width=0;var b=0;for(var G=0;G<o.length;G++){var T=o[G].text;var A=k.renderer.measureText(T,0,{"class":I});j.width=Math.max(j.width,A.width);b+=j.height}j.height=b}var w=H.x+F+j.width<B.x+B.width&&H.y+E+j.height<B.y+B.height;if(k.legendLayout){var w=H.x+F+j.width<k._rect.x+k._rect.width&&H.y+E+j.height<k._rect.y+k._rect.height}if(!P&&w){var h=S[M].seriesIndex;var n=S[M].groupIndex;var c=S[M].itemIndex;var V=S[M].fillColor;var R=S[M].lineColor;var e=k._isSerieVisible(n,h,c);var O=C.beginGroup();var L=e?S[M].opacity:0.1;if(J){var Q=z;var q=B.width;var U=Q.split(/\s+/).reverse();var m=[];var s="";var d=0;var o=[];while(undefined!=(word=U.pop())){m.push(word);s=m.join(" ");var A=k.renderer.measureText(s,0,{"class":I});if(A.width>q&&o.length>0){m.pop();d+=A.height;m=[word];s=m.join(" ")}o.push({text:s,dy:d})}for(var G=0;G<o.length;G++){var T=o[G].text;d=o[G].dy;var A=k.renderer.measureText(T,0,{"class":I});if(u){k.renderer.text(T,H.x+F+1.5*f,H.y+E+d,j.width,p,0,{"class":I},false,"left","center")}else{k.renderer.text(T,H.x+F+1.5*f,H.y+E+d,j.width,p,0,{"class":I},false,"center","center")}}var K=C.rect(H.x+F,H.y+E+f/2+d/2,f,f);if(u){E+=d}k.renderer.attr(K,{fill:V,"fill-opacity":L,stroke:R,"stroke-width":1,"stroke-opacity":S[M].opacity})}else{var K=C.rect(H.x+F,H.y+E+f/2,f,f);k.renderer.attr(K,{fill:V,"fill-opacity":L,stroke:R,"stroke-width":1,"stroke-opacity":S[M].opacity});if(u){k.renderer.text(z,H.x+F+1.5*f,H.y+E,j.width,j.height+f/2,0,{"class":I},false,"left","center")}else{k.renderer.text(z,H.x+F+1.5*f,H.y+E,j.width,p,0,{"class":I},false,"center","center")}}k.renderer.endGroup();k._setLegendToggleHandler(n,h,c,O)}if(u){}else{F+=j.width+2*f;if(l<F){l=F}}}if(P){D.height=a.jqx._ptrnd(E+p+5);D.width=a.jqx._ptrnd(l);return D}},isSerieVisible:function(d,b,c){return this._isSerieVisible(d,b,c)},_isSerieVisible:function(f,b,d){while(this._itemsToggleState.length<f+1){this._itemsToggleState.push([])}var e=this._itemsToggleState[f];while(e.length<b+1){e.push(isNaN(d)?true:[])}var c=e[b];if(isNaN(d)){return c}if(!a.isArray(c)){e[b]=c=[]}while(c.length<d+1){c.push(true)}return c[d]},isGroupVisible:function(b){return this._isGroupVisible(b)},_isGroupVisible:function(e){var d=false;var c=this.seriesGroups[e].series;if(!c){return d}for(var b=0;b<c.length;b++){if(this._isSerieVisible(e,b)){d=true;break}}return d},_toggleSerie:function(h,b,e,c){var g=!this._isSerieVisible(h,b,e);if(c!=undefined){g=c}var i=this.seriesGroups[h];var f=i.series[b];this._raiseEvent("toggle",{state:g,seriesGroup:i,serie:f,elementIndex:e});if(isNaN(e)){this._itemsToggleState[h][b]=g}else{var d=this._itemsToggleState[h][b];if(!a.isArray(d)){d=[]}while(d.length<e){d.push(true)}d[e]=g}this._isToggleRefresh=true;this.update();this._isToggleRefresh=false},showSerie:function(d,b,c){this._toggleSerie(d,b,c,true)},hideSerie:function(d,b,c){this._toggleSerie(d,b,c,false)},_setLegendToggleHandler:function(j,c,h,e){var i=this.seriesGroups[j];var f=i.series[c];var b=f.enableSeriesToggle;if(b==undefined){b=i.enableSeriesToggle!=false}if(b){var d=this;this.renderer.addHandler(e,"click",function(g){g.preventDefault();d._toggleSerie(j,c,h)})}},_renderLegend:function(c,e){var o=this;var d=[];for(var v=0;v<o.seriesGroups.length;v++){var t=o.seriesGroups[v];if(t.showLegend==false){continue}for(var q=0;q<t.series.length;q++){var m=t.series[q];if(m.showLegend==false){continue}var u=o._getSerieSettings(v,q);var p;if(t.type=="pie"||t.type=="donut"){var k=o._getXAxis(v);var h=m.legendFormatSettings||t.legendFormatSettings||k.formatSettings||m.formatSettings||t.formatSettings;var n=m.legendFormatFunction||t.legendFormatFunction||k.formatFunction||m.formatFunction||t.formatFunction;var j=o._getDataLen(v);for(var r=0;r<j;r++){p=o._getDataValue(r,m.displayText,v);p=o._formatValue(p,h,n,v,q,r);var l=o._getColors(v,q,r);d.push({groupIndex:v,seriesIndex:q,itemIndex:r,text:p,css:m.displayTextClass,fillColor:l.fillColor,lineColor:l.lineColor,opacity:u.opacity})}continue}var h=m.legendFormatSettings||t.legendFormatSettings;var n=m.legendFormatFunction||t.legendFormatFunction;p=o._formatValue(m.displayText||m.dataField||"",h,n,v,q,NaN);var l=o._getSeriesColors(v,q);var f=this._get([m.legendFillColor,m.legendColor,l.fillColor]);var b=this._get([m.legendLineColor,m.legendColor,l.lineColor]);d.push({groupIndex:v,seriesIndex:q,text:p,css:m.displayTextClass,fillColor:f,lineColor:b,opacity:u.opacity})}}return o._renderChartLegend(d,c,e,(o.legendLayout&&o.legendLayout.flow=="vertical"))},_getInterval:function(d,c){var b=this._get([d.unitInterval,c]);if(!isNaN(d.step)){b=d.step*c}return b},_renderXAxis:function(d,w,P,c){var f=this;var q=f._getXAxis(d);var O=f.seriesGroups[d];var V=O.orientation=="horizontal";var F={width:0,height:0};var N=f._getAxisSettings(q);if(!q||!N.visible||O.type=="spider"){return F}if(!f._isGroupVisible(d)||this._isPieGroup(d)){return F}var U=f._alignValuesWithTicks(d);while(f._renderData.length<d+1){f._renderData.push({})}if(f.rtl){q.flip=true}var z=V?w.height:w.width;var v=q.text;var s=f._calculateXOffsets(d,z);var R=s.axisStats;var h=q.rangeSelector;var D=0;if(h){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}D=this._selectorGetSize(q)}var C=(V&&q.position=="right")||(!V&&q.position=="top");if(!P&&h){if(V){w.width-=D;if(q.position!="right"){w.x+=D}}else{w.height-=D;if(q.position=="top"){w.y+=D}}}var j={rangeLength:s.rangeLength,itemWidth:s.itemWidth,intervalWidth:s.intervalWidth,data:s,settings:N,isMirror:C,rect:w};f._renderData[d].xAxis=j;var E=R.interval;if(isNaN(E)){return}if(V){N.title.angle-=90;N.labels.angle-=90}var l=this._getInterval(N.gridLines,E);var I=this._getInterval(N.tickMarks,E);var A=this._getInterval(N.labels,E);var J;var T=R.min;var r=R.max;var L=s.padding;var Q=q.flip==true||f.rtl;if(q.type=="date"){N.gridLines.offsets=this._generateDTOffsets(T,r,z,L,l,E,R.dateTimeUnit,U,NaN,false,Q);N.tickMarks.offsets=this._generateDTOffsets(T,r,z,L,I,E,R.dateTimeUnit,U,NaN,false,Q);J=this._generateDTOffsets(T,r,z,L,A,E,R.dateTimeUnit,U,NaN,true,Q)}else{N.gridLines.offsets=this._generateOffsets(T,r,z,L,l,E,U,NaN,false,Q);N.tickMarks.offsets=this._generateOffsets(T,r,z,L,I,E,U,NaN,false,Q);J=this._generateOffsets(T,r,z,L,A,E,U,NaN,true,Q)}var m=f.renderer.getRect();var k=m.width-w.x-w.width;var o=f._getDataLen(d);var n;if(f._elementRenderInfo&&f._elementRenderInfo.length>d){n=f._elementRenderInfo[d].xAxis}var p=[];var H=N.labels.formatFunction;var u=N.labels.formatSettings;if(q.type=="date"&&!u&&!H){H=this._getDefaultDTFormatFn(q.baseUnit||"day")}for(var M=0;M<J.length;M++){var K=J[M].value;var G=J[M].offset;var S=undefined;if(q.type!="date"&&R.useIndeces&&q.dataField){S=Math.round(K);K=f._getDataValue(S,q.dataField);if(K==undefined){K=""}}var v=f._formatValue(K,u,H,d,undefined,S);if(v==undefined||v.toString()==""){if(isNaN(S)){S=M}if(S>=R.filterRange.min&&S<=R.filterRange.max){v=R.useIndeces?(R.min+S).toString():(K==undefined?"":K.toString())}}var b={key:K,text:v,targetX:G,x:G};if(n&&n.itemOffsets[K]){b.x=n.itemOffsets[K].x;b.y=n.itemOffsets[K].y}p.push(b)}var B=f._getAnimProps(d);var t=B.enabled&&p.length<500?B.duration:0;if(f.enableAxisTextAnimation==false){t=0}var y={items:p,renderData:j};var e=f._renderAxis(V,C,N,{x:w.x,y:w.y,width:w.width,height:w.height},c,E,false,true,y,P,t);if(V){e.width+=D}else{e.height+=D}return e},_animateAxisText:function(f,h){var c=f.items;var d=f.textSettings;for(var e=0;e<c.length;e++){var g=c[e];if(!g){continue}if(!g.visible){continue}var b=g.targetX;var j=g.targetY;if(!isNaN(g.x)&&!isNaN(g.y)){b=g.x+(b-g.x)*h;j=g.y+(j-g.y)*h}if(g.element){this.renderer.removeElement(g.element);g.element=undefined}g.element=this.renderer.text(g.text,b,j,g.width,g.height,d.angle,{"class":d.style},false,d.halign,d.valign,d.textRotationPoint)}},_getPolarAxisCoords:function(e,b){var i=this.seriesGroups[e];var o=b.x+a.jqx.getNum([i.offsetX,b.width/2]);var n=b.y+a.jqx.getNum([i.offsetY,b.height/2]);var f=i.radius;if(isNaN(f)){f=Math.min(b.width,b.height)/2*0.6}var h=this._alignValuesWithTicks(e);var m=this._get([i.startAngle,i.minAngle,0])-90;if(isNaN(m)){m=0}else{m=2*Math.PI*m/360}var l=this._get([i.endAngle,i.maxAngle,360])-90;if(isNaN(l)){l=2*Math.PI}else{l=2*Math.PI*l/360}if(m>l){var k=m;m=l;l=k}var s=a.jqx._rnd(Math.abs(m-l)/(Math.PI*2),0.001,true);var p=Math.PI*2*f*s;var g=this._calcGroupOffsets(e,b).xoffsets;if(!g){return}var j=!(Math.abs(Math.abs(l-m)-Math.PI*2)>0.00001);if(i.spider){axisStats=this._getXAxisStats(e,this._getXAxis(e),p);var q=axisStats.interval;if(isNaN(q)||q==0){q=1}var d=(axisStats.max-axisStats.min)/q+(j?1:0);d=Math.round(d);if(d>2){var c=Math.cos(Math.abs(l-m)/2/d);c=a.jqx._rnd(c,0.01);if(c==0){c=1}var r=f/c;if(r>f&&h){f=r}}}f=a.jqx._ptrnd(f);return{x:o,y:n,r:f,adjR:this._get([r,f]),itemWidth:g.itemWidth,rangeLength:g.rangeLength,valuesOnTicks:h,startAngle:m,endAngle:l,isClosedCircle:j,axisSize:p}},_toPolarCoord:function(j,f,h,e){var c=Math.abs(j.startAngle-j.endAngle)/(Math.PI*2);var b=(h-f.x)*2*Math.PI*c/Math.max(1,f.width)+j.startAngle;var d=((f.height+f.y)-e)*j.r/Math.max(1,f.height);var i=j.x+d*Math.cos(b);var g=j.y+d*Math.sin(b);return{x:a.jqx._ptrnd(i),y:a.jqx._ptrnd(g)}},_renderSpiderAxis:function(z,k){var an=this;var g=an._getXAxis(z);var az=this._getAxisSettings(g);if(!g||!az.visible){return}var W=an.seriesGroups[z];var R=an._getPolarAxisCoords(z,k);if(!R){return}var L=a.jqx._ptrnd(R.x);var J=a.jqx._ptrnd(R.y);var t=R.adjR;var X=R.startAngle;var V=R.endAngle;if(t<1){return}var au=a.jqx._rnd(Math.abs(X-V)/(Math.PI*2),0.001,true);var h=Math.PI*2*t*au;var c=R.isClosedCircle;var w=this._renderData[z].xoffsets;if(!w.rangeLength){return}var S=w.axisStats.interval;if(isNaN(S)||S<1){S=1}var aq=W.orientation=="horizontal";var Z=(aq&&g.position=="right")||(!aq&&g.position=="top");while(an._renderData.length<z+1){an._renderData.push({})}var ar={rangeLength:w.rangeLength,itemWidth:w.itemWidth,data:w,rect:k,settings:az};an._renderData[z].xAxis=ar;an._renderData[z].polarCoords=R;var ax=true;for(var Q=0;Q<z;Q++){var A=an._renderData[Q].xAxis;var b=an._renderData[Q].polarCoords;var D=an._getXAxis(Q);var U=false;for(var O in R){if(R[O]!=b[O]){U=true;break}}if(!U||D!=g){ax=false}}var e=az.gridLines;var T=az.tickMarks;var y=az.labels;var ac=this._getInterval(e,S);var aC=this._getInterval(T,S);var al=this._getInterval(y,S);var G=an._alignValuesWithTicks(z);var ad=an.renderer;var ag;var ae=w.axisStats;var aA=ae.min;var r=ae.max;var u=this._getPaddingSize(w.axisStats,g,G,h,true,c,false);var ah=g.flip==true||an.rtl;if(g.type=="date"){e.offsets=this._generateDTOffsets(aA,r,h,u,ac,S,g.baseUnit,true,0,false,ah);T.offsets=this._generateDTOffsets(aA,r,h,u,aC,S,g.baseUnit,true,0,false,ah);ag=this._generateDTOffsets(aA,r,h,u,al,S,g.baseUnit,true,0,true,ah)}else{e.offsets=this._generateOffsets(aA,r,h,u,ac,S,true,0,false,ah);T.offsets=this._generateOffsets(aA,r,h,u,aC,S,true,0,false,ah);ag=this._generateOffsets(aA,r,h,u,al,S,true,0,false,ah)}var ai=an.renderer.getRect();var av=ai.width-k.x-k.width;var af=an._getDataLen(z);var s;if(an._elementRenderInfo&&an._elementRenderInfo.length>z){s=an._elementRenderInfo[z].xAxis}var ap=[];for(var Q=0;Q<ag.length;Q++){var F=ag[Q].offset;var H=ag[Q].value;if(g.type!="date"&&ae.useIndeces&&g.dataField){var aw=Math.round(H);H=an._getDataValue(aw,g.dataField);if(H==undefined){H=""}}var ao=an._formatValue(H,y.formatSettings,y.formatFunction,z,undefined,aw);if(ao==undefined||ao.toString()==""){ao=ae.useIndeces?(ae.min+Q).toString():(H==undefined?"":H.toString())}var d={key:H,text:ao,targetX:F,x:F};if(s&&s.itemOffsets[H]){d.x=s.itemOffsets[H].x;d.y=s.itemOffsets[H].y}ap.push(d)}var ay={items:ap,renderData:ar};var l={stroke:e.color,fill:"none","stroke-width":1,"stroke-dasharray":e.dashStyle||""};if(!W.spider){if(au==1){ad.circle(L,J,t,l)}else{var E=-X/Math.PI*180;var aD=-V/Math.PI*180;this.renderer.pieslice(L,J,0,t,Math.min(E,aD),Math.max(E,aD),undefined,l)}}var M=ap.length;var m=2*Math.PI/(M);var ak=X;if(ax){ar.polarLabels=[];for(var Q=0;Q<ap.length;Q++){var o=ap[Q].x;var B=ak+o*2*Math.PI*au/Math.max(1,h);B=(360-B/(2*Math.PI)*360)%360;if(B<0){B=360+B}var aj=ad.measureText(ap[Q].text,0,{"class":az.labels.style});var N=(G?R.adjR:R.r)+(T.visible?7:2);var at=az.labels;var aB;if(at.autoRotate){var K=a.jqx._ptRotate(L-aj.width/2,J-N-aj.height,L,J,-B/180*Math.PI);var I=a.jqx._ptRotate(L+aj.width/2,J-N,L,J,-B/180*Math.PI);aj.width=Math.abs(K.x-I.x);aj.height=Math.abs(K.y-I.y);aB={x:Math.min(K.x,I.x),y:Math.min(K.y,I.y)}}else{aB=this._adjustTextBoxPosition(L,J,aj,N,B,false,false,false)}ar.polarLabels.push({x:aB.x,y:aB.y,value:ap[Q].text});ad.text(ap[Q].text,aB.x,aB.y,aj.width,aj.height,at.autoRotate?90-B:at.angle,{"class":at.style},false,at.halign,at.valign)}}var f,C;if(e.visible&&ax){if(!G&&!c){e.offsets.unshift({offset:-u.right})}for(var Q=0;Q<e.offsets.length;Q++){var o=e.offsets[Q].offset;if(!G){if(c){o+=u.right/2}else{o+=u.right}}var B=ak+o*2*Math.PI*au/Math.max(1,h);if(B-V>0.01){continue}var q=a.jqx._ptrnd(L+t*Math.cos(B));var p=a.jqx._ptrnd(J+t*Math.sin(B));ad.line(L,J,q,p,l)}}if(T.visible&&ax){var P=5;var n={stroke:T.color,fill:"none","stroke-width":1,"stroke-dasharray":T.dashStyle||""};if(!G&&!c){T.offsets.unshift({offset:-u.right})}for(var Q=0;Q<T.offsets.length;Q++){var o=T.offsets[Q].offset;if(!G){if(c){o+=u.right/2}else{o+=u.right}}var B=ak+o*2*Math.PI*au/Math.max(1,h);if(B-V>0.01){continue}var ab={x:L+t*Math.cos(B),y:J+t*Math.sin(B)};var aa={x:L+(t+P)*Math.cos(B),y:J+(t+P)*Math.sin(B)};ad.line(a.jqx._ptrnd(ab.x),a.jqx._ptrnd(ab.y),a.jqx._ptrnd(aa.x),a.jqx._ptrnd(aa.y),n)}}var am=[];if(W.spider){var v=[];if(g.type=="date"){v=this._generateDTOffsets(aA,r,h,u,S,S,g.baseUnit,true,0,false,ah)}else{v=this._generateOffsets(aA,r,h,u,S,S,true,0,false,ah)}if(!G&&!c){v.unshift({offset:-u.right})}for(var Q=0;Q<v.length;Q++){var o=v[Q].offset;if(!G){if(c){o+=u.right/2}else{o+=u.right}}var B=ak+o*2*Math.PI*au/Math.max(1,h);if(B-V>0.01){continue}am.push(B)}ar.offsetAngles=am}var Y=an._renderSpiderValueAxis(z,k,(G?R.adjR:R.r),am);if(!Y){Y=[]}if(W.spider){if(!G){for(var Q=0;Q<Y.length;Q++){Y[Q]=Y[Q]*R.adjR/R.r}}Y.push(t);this._renderSpiderLines(L,J,Y,R,am,l)}},_renderSpiderLines:function(h,f,u,m,e,b){var p=this.renderer;var q=m.startAngle;var o=m.endAngle;var g=m.isClosedCircle;for(var r=0;r<u.length;r++){var d=u[r];var c=undefined,n=undefined;for(var s=0;s<e.length;s++){var t=e[s];var l=a.jqx._ptrnd(h+d*Math.cos(t));var k=a.jqx._ptrnd(f+d*Math.sin(t));if(c){p.line(c.x,c.y,l,k,b)}c={x:l,y:k};if(!n){n={x:l,y:k}}}if(n&&g){p.line(c.x,c.y,n.x,n.y,b)}}},_renderSpiderValueAxis:function(d,C,P,O){var h=this;var t=this.seriesGroups[d];var D=this._getPolarAxisCoords(d,C);if(!D){return}var L=a.jqx._ptrnd(D.x);var J=a.jqx._ptrnd(D.y);P=P||D.r;var f=D.startAngle;var V=D.endAngle;var T=a.jqx._rnd(Math.abs(f-V)/(Math.PI*2),0.001,true);if(P<1){return}P=a.jqx._ptrnd(P);var e=this._getValueAxis(d);settings=this._getAxisSettings(e);if(!e||false==settings.visible){return}var H=this._stats.seriesGroups[d].mu;var z=settings.labels;var w=z.formatSettings;var b=t.type.indexOf("stacked")!=-1&&t.type.indexOf("100")!=-1;if(b&&!w){w={sufix:"%"}}var u=this._get([z.step,z.unitInterval/H]);if(isNaN(u)){u=1}u=Math.max(1,Math.round(u));this._calcValueAxisItems(d,P,u);var c=settings.gridLines;var A=settings.tickMarks;var q=this._getInterval(c,H);var M=this._getInterval(A,H);var k=settings.labels;var j={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""};var n=this._renderData[d].valueAxis;var v=n.items;if(v.length&&settings.line.visible){var m=L+Math.cos(f)*P;var W=J+Math.sin(f)*P;if(O.indexOf(f)==-1){var R=a.extend({},j);R["stroke-width"]=settings.line.lineWidth;R.stroke=settings.line.color;R["stroke-dasharray"]=settings.line.dashStyle;this.renderer.line(L,J,m,W,R)}}v=v.reverse();var G=this.renderer;n.polarLabels=[];for(var U=0;U<v.length-1;U++){var N=v[U];if(isNaN(N)){continue}var B=(k.formatFunction)?k.formatFunction(N):this._formatNumber(N,w);var g=G.measureText(B,0,{"class":k.style});var K=L+(e.showTickMarks!=false?3:2);var I=J-n.itemWidth*U-g.height/2;var s=f;var F=a.jqx._ptRotate(K,I,L,J,s);var E=a.jqx._ptRotate(K+g.width,I+g.height,L,J,s);K=Math.min(F.x,E.x);I=Math.min(F.y,E.y);g.width=Math.abs(F.x-E.x);g.height=Math.abs(F.y-E.y);n.polarLabels.push({x:K,y:I,value:B});G.text(B,K,I,g.width,g.height,k.autoRotate?(90+f*180/Math.PI):k.angle,{"class":k.style},false,k.halign,k.valign)}var p=e.logarithmicScale==true;var r=p?v.length:n.rangeLength;aIncrement=2*Math.PI/r;var Q=[];if(c.visible||t.spider){var j={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""};for(var U=0;U<r;U+=q){var I=a.jqx._ptrnd(P*U/r);if(t.spider){Q.push(I);continue}if(T!=1){var l=-f/Math.PI*180;var S=-V/Math.PI*180;this.renderer.pieslice(L,J,0,I,Math.min(l,S),Math.max(l,S),undefined,j)}else{G.circle(L,J,I,j)}}}if(A.visible){tickMarkSize=5;var j={stroke:A.color,fill:"none","stroke-width":1,"stroke-dasharray":A.dashStyle||""};var o=L-Math.round(tickMarkSize/2);var m=o+tickMarkSize;for(var U=0;U<r;U+=M){if(c.visible&&(U%q)==0){continue}var I=a.jqx._ptrnd(J-P*U/r);G.line(a.jqx._ptrnd(o),I,a.jqx._ptrnd(m),I,j)}}return Q},_renderAxis:function(H,D,Q,z,c,F,m,V,C,U,d){if(Q.customDraw&&!U){return{width:NaN,height:NaN}}var t=Q.title,n=Q.labels,e=Q.gridLines,A=Q.tickMarks,P=Q.padding;var o=A.visible?A.size:0;var R=2;var G={width:0,height:0};var q={width:0,height:0};if(H){G.height=q.height=z.height}else{G.width=q.width=z.width}if(!U&&D){if(H){z.x-=z.width}}var l=C.renderData;var b=l.itemWidth;if(t.visible&&t.text!=undefined&&t!=""){var p=t.angle;var f=this.renderer.measureText(t.text,p,{"class":t.style});q.width=f.width;q.height=f.height;if(!U){this.renderer.text(t.text,z.x+t.offset.x+(H?(!D?R+P.left:-P.right-R+2*z.width-q.width):0),z.y+t.offset.y+(!H?(!D?z.height-R-q.height-P.bottom:P.top+R):0),H?q.width:z.width,!H?q.height:z.height,p,{"class":t.style},true,t.halign,t.valign,t.rotationPoint)}}var L=0;var u=V?-b/2:0;if(V&&!H){n.halign="center"}var N=z.x;var M=z.y;var E=n.textOffset;if(E){if(!isNaN(E.x)){N+=E.x}if(!isNaN(E.y)){M+=E.y}}if(!H){N+=u;if(D){M+=q.height>0?q.height+3*R:2*R;M+=o-(V?o:o/4)}else{M+=V?o:o/4}M+=P.top}else{N+=P.left+R+(q.width>0?q.width+R:0)+(D?z.width-q.width:0);M+=u}var T=0;var K=0;var r=C.items;l.itemOffsets={};if(this._isToggleRefresh||!this._isUpdate){d=0}var k=false;var j=0;for(var S=0;S<r.length&&n.visible;S++,L+=b){if(!r[S]){continue}var v=r[S].text;if(!isNaN(r[S].targetX)){L=r[S].targetX}var f=this.renderer.measureText(v,n.angle,{"class":n.style});if(f.width>K){K=f.width}if(f.height>T){T=f.height}j+=H?T:K;if(!U){if((H&&L>z.height+2)||(!H&&L>z.width+2)){break}var J=H?N+(D?(q.width==0?o:o-R):0):N+L;var I=H?M+L:M;l.itemOffsets[r[S].key]={x:J,y:I};if(!k){if(!isNaN(r[S].x)||!isNaN(r[S].y)&&d){k=true}}r[S].targetX=J;r[S].targetY=I;r[S].width=!H?b:z.width-P.left-P.right-2*R-o-((q.width>0)?q.width+R:0);r[S].height=H?b:z.height-P.top-P.bottom-2*R-o-((q.height>0)?q.height+R:0);r[S].visible=true}}l.avgWidth=r.length==0?0:j/r.length;if(!U){var s={items:r,textSettings:n};if(isNaN(d)||!k){d=0}this._animateAxisText(s,d==0?1:0);if(d!=0){var g=this;this._enqueueAnimation("series",undefined,undefined,d,function(i,h,w){g._animateAxisText(h,w)},s)}}G.width+=2*R+o+q.width+K+(H&&q.width>0?R:0);G.height+=2*R+o+q.height+T+(!H&&q.height>0?R:0);if(!H){G.height+=P.top+P.bottom}else{G.width+=P.left+P.right}var B={};if(!U&&Q.line.visible){var O={stroke:Q.line.color,"stroke-width":Q.line.width,"stroke-dasharray":Q.line.dashStyle||""};if(H){var J=z.x+z.width+(D?P.left:-P.right);J=a.jqx._ptrnd(J);this.renderer.line(J,z.y,J,z.y+z.height,O)}else{var I=a.jqx._ptrnd(z.y+(D?z.height-P.bottom:P.top));this.renderer.line(a.jqx._ptrnd(z.x),I,a.jqx._ptrnd(z.x+z.width+1),I,O)}}G.width=a.jqx._rup(G.width);G.height=a.jqx._rup(G.height);return G},_drawPlotAreaLines:function(j,w,f){var C=this.seriesGroups[j];var c=C.orientation!="horizontal";if(!this._renderData||this._renderData.length<=j){return}var H=w?"valueAxis":"xAxis";var u=this._renderData[j][H];if(!u){return}var m=this._renderData.axisDrawState;if(!m){m=this._renderData.axisDrawState={}}var z="",h;if(w){z="valueAxis_"+((C.valueAxis)?j:"")+(c?"swap":"");h=this._getValueAxis(j)}else{z="xAxis_"+((C.xAxis||C.categoryAxis)?j:"")+(c?"swap":"");h=this._getXAxis(j)}if(m[z]){m=m[z]}else{m=m[z]={}}if(!w){c=!c}var F=u.settings;if(!F){return}if(F.customDraw){return}var E=F.gridLines,p=F.tickMarks,t=F.padding;var e=u.rect;var k=this._plotRect;if(!E||!p){return}var o=0.5;var d=[];var b={stroke:E.color,"stroke-width":E.width,"stroke-dasharray":E.dashStyle||""};var B=w?e.y+e.height:e.x;var n=E.offsets;if(w&&!h.flip){n=a.extend([],n);n=n.reverse()}if(n&&n.length>0){for(var A=0;A<n.length;A++){if(c){D=a.jqx._ptrnd(e.y+n[A].offset);if(D<e.y-o){break}}else{D=a.jqx._ptrnd(e.x+n[A].offset);if(D>e.x+e.width+o){break}}if(f.gridLines&&E.visible!=false&&m.gridLines!=true){if(c){this.renderer.line(a.jqx._ptrnd(k.x),D,a.jqx._ptrnd(k.x+k.width),D,b)}else{this.renderer.line(D,a.jqx._ptrnd(k.y),D,a.jqx._ptrnd(k.y+k.height),b)}}d[D]=true;if(f.alternatingBackground&&(E.alternatingBackgroundColor||E.alternatingBackgroundColor2)&&m.alternatingBackground!=true){var l=((A%2)==0)?E.alternatingBackgroundColor2:E.alternatingBackgroundColor;if(l){var G;if(c){G=this.renderer.rect(a.jqx._ptrnd(k.x),B,a.jqx._ptrnd(k.width-1),D-B,b)}else{G=this.renderer.rect(B,a.jqx._ptrnd(k.y),D-B,a.jqx._ptrnd(k.height),b)}this.renderer.attr(G,{"stroke-width":0,fill:l,opacity:E.alternatingBackgroundOpacity||1})}B=D}}}var b={stroke:p.color,"stroke-width":p.width,"stroke-dasharray":p.dashStyle||""};if(f.tickMarks&&p.visible&&m.tickMarks!=true){var s=p.size;var n=p.offsets;for(var A=0;A<n.length;A++){var D=a.jqx._ptrnd((c?e.y+n[A].offset:e.x+n[A].offset));if(d[D-1]){D--}else{if(d[D+1]){D++}}if(c){if(D>e.y+e.height+o){break}}else{if(D>e.x+e.width+o){break}}var v=!u.isMirror?-s:s;if(c){var r=e.x+e.width+(h.position=="right"?t.left:-t.right);if(!w){r=e.x+(u.isMirror?t.left:-t.right+e.width)}this.renderer.line(r,D,r+v,D,b)}else{var q=e.y+(u.isMirror?e.height:0);q+=u.isMirror?-t.bottom:t.top;q=a.jqx._ptrnd(q);this.renderer.line(D,q,D,q-v,b)}}}m.tickMarks=m.tickMarks||f.tickMarks;m.gridLines=m.gridLines||f.gridLines;m.alternatingBackground=m.alternatingBackground||f.alternatingBackground},_calcValueAxisItems:function(j,d,l){var n=this._stats.seriesGroups[j];if(!n||!n.isValid){return false}var w=this.seriesGroups[j];var b=w.orientation=="horizontal";var f=this._getValueAxis(j);var m=f.valuesOnTicks!=false;var e=f.dataField;var o=n.intervals;var s=d/o;var u=n.min;var r=n.mu;var c=f.logarithmicScale==true;var k=f.logarithmicScaleBase||10;var h=w.type.indexOf("stacked")!=-1&&w.type.indexOf("100")!=-1;if(c){r=!isNaN(f.unitInterval)?f.unitInterval:1}if(!m){o=Math.max(o-1,1)}while(this._renderData.length<j+1){this._renderData.push({})}this._renderData[j].valueAxis={};var q=this._renderData[j].valueAxis;q.itemWidth=q.intervalWidth=s;q.items=[];var p=q.items;for(var v=0;v<=o;v++){var t=0;if(c){if(h){t=n.max/Math.pow(k,o-v)}else{t=u*Math.pow(k,v)}}else{t=m?u+v*r:u+(v+0.5)*r}if(v%l!=0){p.push(NaN);continue}p.push(t)}q.rangeLength=c&&!h?n.intervals:(n.intervals)*r;if(f.flip!=true){p=p.reverse()}return true},_renderValueAxis:function(f,x,L,e){var K=this.seriesGroups[f];var P=K.orientation=="horizontal";var r=this._getValueAxis(f);if(!r){throw"SeriesGroup "+f+" is missing valueAxis definition"}var E={width:0,height:0};if(!this._isGroupVisible(f)||this._isPieOnlySeries()||K.type=="spider"){return E}var O=r.valuesOnTicks!=false;var F=this._stats.seriesGroups[f];var j=F.mu;var D=r.logarithmicScale==true;var A=r.logarithmicScaleBase||10;if(D){j=!isNaN(r.unitInterval)?r.unitInterval:1}if(j==0){j=1}var I=this._getAxisSettings(r);var q=I.title,u=I.labels;var o=this._get([u.step,u.unitInterval/j]);if(isNaN(o)){o=1}o=Math.max(1,Math.round(o));if(!this._calcValueAxisItems(f,(P?x.width:x.height),o)||!I.visible){return E}if(!P){q.angle=(!this.rtl?-90:90);if(q.rotationPoint=="centercenter"){if(q.valign=="top"){q.rotationPoint="rightcenter"}else{if(q.valign=="bottom"){q.rotationPoint="leftcenter"}}}}var h=u.formatSettings;var c=K.type.indexOf("stacked")!=-1&&K.type.indexOf("100")!=-1;if(c&&!h){h={sufix:"%"}}var p=[];var k=this._renderData[f].valueAxis;var m;if(this._elementRenderInfo&&this._elementRenderInfo.length>f){m=this._elementRenderInfo[f].valueAxis}for(var J=0;J<k.items.length;J++){var H=k.items[J];if(isNaN(H)){p.push(undefined);continue}var w=(u.formatFunction)?u.formatFunction(H):this._formatNumber(H,h);var b={key:H,text:w};if(m&&m.itemOffsets[H]){b.x=m.itemOffsets[H].x;b.y=m.itemOffsets[H].y}p.push(b)}if(D&&j!=1){var n=[];for(var J=0;J<p.length;J++){if(J%j==0){n.push(p[p.length-J-1])}else{n.push(undefined)}}p=n.reverse()}var d=I.gridLines;var l=D?j:this._getInterval(d,j);var z=P?x.width:x.height;var N=F.logarithmic?F.minPow:F.min;var s=F.logarithmic?F.maxPow:F.max;var M=(r.flip==true);if(d.visible||r.alternatingBackgroundColor||r.alternatingBackgroundColor2){d.offsets=this._generateOffsets(N,s,z,{left:0,right:0},l,j,true,0,false,!M);if(D&&!isNaN(d.step)){var n=[];for(var J=0;J<d.offsets.length;J+=d.step){n.push(d.offsets[J])}d.offsets=n}}var v=I.tickMarks;var G=D?j:this._getInterval(v,j);if(v.visible){v.offsets=this._generateOffsets(N,s,z,{left:0,right:0},G,j,true,0,false,!M);if(D&&!isNaN(v.step)){var n=[];for(var J=0;J<v.offsets.length;J+=v.step){n.push(v.offsets[J])}v.offsets=n}}var C=(P&&r.position=="top")||(!P&&r.position=="right")||(!P&&this.rtl&&r.position!="left");var y={items:p,renderData:k};var B=this._getAnimProps(f);var t=B.enabled&&p.length<500?B.duration:0;if(this.enableAxisTextAnimation==false){t=0}k.settings=I;k.isMirror=C;k.rect=x;return this._renderAxis(!P,C,I,x,e,j,D,O,y,L,t)},_generateOffsets:function(n,q,t,l,u,d,b,r,s,g){var f=[];var m=1;if(d<1){m=1000000;n*=m;q*=m;d*=m}var h=q-n;var k=t-l.left-l.right;if(h==0){if(s||b){f.push({offset:l.left+k/2,value:n/m})}else{f.push({offset:0,value:n/m})}return f}var v=k/h;var c=v*d;var e=l.left;if(!b){if(!s){q+=d}}for(var p=n;p<=q;p+=d,e+=c){f.push({offset:e,value:p/m})}if(!b&&f.length>1){if(isNaN(r)){r=s?0:c/2}for(var p=0;p<f.length;p++){f[p].offset-=r;if(f[p].offset<=2){f[p].offset=0}if(f[p].offset>=t-2){f[p].offset=t}}}if(u>d){var o=[];var j=Math.round(u/d);for(var p=0;p<f.length;p++){if((p%j)==0){o.push({offset:f[p].offset,value:f[p].value})}}f=o}if(g){for(var p=0;p<f.length;p++){f[p].offset=t-f[p].offset}}return f},_generateDTOffsets:function(p,s,x,n,y,c,o,b,u,v,g){if(!o){o="day"}var f=[];if(p>s){return f}if(p==s){if(v){f.push({offset:b?x/2:n.left,value:p})}else{if(b){f.push({offset:x/2,value:p})}}return f}var j=x-n.left-n.right;var w=p;var k=n.left;var e=k;c=Math.max(c,1);var m=c;var d=Math.min(1,c);if(c>1&&o!="millisecond"){c=1}while(a.jqx._ptrnd(e)<=a.jqx._ptrnd(n.left+j+(b?0:n.right))){f.push({offset:e,value:w});var z=new Date(w.valueOf());if(o=="millisecond"){z.setMilliseconds(w.getMilliseconds()+c)}else{if(o=="second"){z.setSeconds(w.getSeconds()+c)}else{if(o=="minute"){z.setMinutes(w.getMinutes()+c)}else{if(o=="hour"){var l=z.valueOf();z.setHours(w.getHours()+c);if(l==z.valueOf()){z.setHours(w.getHours()+c+1)}}else{if(o=="day"){z.setDate(w.getDate()+c)}else{if(o=="month"){z.setMonth(w.getMonth()+c)}else{if(o=="year"){z.setFullYear(w.getFullYear()+c)}}}}}}}w=z;e=k+(w.valueOf()-p.valueOf())*d/(s.valueOf()-p.valueOf())*j}if(g){for(var r=0;r<f.length;r++){f[r].offset=x-f[r].offset}}if(m>1&&o!="millisecond"){var q=[];for(var r=0;r<f.length;r+=m){q.push({offset:f[r].offset,value:f[r].value})}f=q}if(!b&&!v&&f.length>1){var q=[];q.push({offset:0,value:undefined});for(var r=1;r<f.length;r++){q.push({offset:f[r-1].offset+(f[r].offset-f[r-1].offset)/2,value:undefined})}var t=q.length;if(t>1){q.push({offset:q[t-1].offset+(q[t-1].offset-q[t-2].offset)})}else{q.push({offset:x,value:undefined})}f=q}if(y>c){var q=[];var h=Math.round(y/m);for(var r=0;r<f.length;r++){if((r%h)==0){q.push({offset:f[r].offset,value:f[r].value})}}f=q}return f},_hasStackValueReversal:function(e,s){var g=this.seriesGroups[e];var h=-1!=g.type.indexOf("stacked");if(!h){return false}var b=-1!=g.type.indexOf("waterfall");var q=this._getDataLen(e);var t=0;var l=false;var u=[];for(var o=0;o<g.series.length;o++){u[o]=this._isSerieVisible(e,o)}for(var p=0;p<q;p++){var m=(b&&p!=0)?t:s;var d=0,r=0;var c=undefined;if(!b){l=false}for(var n=0;n<g.series.length;n++){if(!u[n]){continue}val=this._getDataValueAsNumber(p,g.series[n].dataField,e);if(isNaN(val)){continue}if(g.series[n].summary){var f=this._getDataValue(p,g.series[n].summary,e);if(undefined!==f){continue}}var k=!l?val<s:val<0;l=true;if(c==undefined){c=k}if(k!=c){return true}c=k;t+=val}}return false},_getValueAxis:function(b){var c=b==undefined?this.valueAxis:this.seriesGroups[b].valueAxis||this.valueAxis;if(!c){c=this.valueAxis={}}return c},_buildStats:function(H){var U={seriesGroups:[]};this._stats=U;for(var s=0;s<this.seriesGroups.length;s++){var A=this.seriesGroups[s];U.seriesGroups[s]={};var D=this._getXAxis(s);var n=this._getValueAxis(s);var q=this._getXAxisStats(s,D,(A.orientation=="vertical")?H.width:H.height);var x=U.seriesGroups[s];x.isValid=true;var I=(A.orientation=="horizontal")?H.width:H.height;var K=n.logarithmicScale==true;var J=n.logarithmicScaleBase;if(isNaN(J)){J=10}var E=-1!=A.type.indexOf("stacked");var e=E&&-1!=A.type.indexOf("100");var G=-1!=A.type.indexOf("range");var Q=A.type.indexOf("waterfall")!=-1;if(Q&&!this._moduleWaterfall){throw"Please include 'jqxchart.waterfall.js'"}if(e){x.psums=[];x.nsums=[]}var t=NaN,M=NaN;var d=NaN,f=NaN;var r=n?n.baselineValue:NaN;if(isNaN(r)){r=K&&!e?1:0}var g=false;if(r!=0&&E){g=this._hasStackValueReversal(s,r);if(g){r=0}}if(E&&Q){g=this._hasStackValueReversal(s,r)}var z=this._getDataLen(s);var c=0;var V=NaN;var m=[];if(Q){for(var k=0;k<A.series.length;k++){m.push(NaN)}}var v=NaN;for(var T=0;T<z&&x.isValid;T++){if(D.rangeSelector){var h=D.dataField?this._getDataValue(T,D.dataField,s):T;if(h&&q.isDateTime){h=this._castAsDate(h)}if(h&&(h.valueOf()<q.min.valueOf()||h.valueOf()>q.max.valueOf())){continue}}var W=n.minValue;var C=n.maxValue;if(n.baselineValue){if(isNaN(W)){W=r}else{W=Math.min(r,W)}if(isNaN(C)){C=r}else{C=Math.max(r,C)}}var u=0,w=0;for(var k=0;k<A.series.length;k++){if(!this._isSerieVisible(s,k)){continue}var F=NaN,P=NaN,y=NaN;if(A.type.indexOf("candle")!=-1||A.type.indexOf("ohlc")!=-1){var b=["Open","Low","Close","High"];for(var R in b){var l=this._getDataValueAsNumber(T,A.series[k]["dataField"+b[R]],s);if(isNaN(l)){continue}y=isNaN(P)?l:Math.min(y,l);P=isNaN(P)?l:Math.max(P,l)}}else{if(G){var X=this._getDataValueAsNumber(T,A.series[k].dataFieldFrom,s);var B=this._getDataValueAsNumber(T,A.series[k].dataFieldTo,s);P=Math.max(X,B);y=Math.min(X,B)}else{F=this._getDataValueAsNumber(T,A.series[k].dataField,s);if(Q){if(this._isSummary(s,T)){var S=this._getDataValue(T,A.series[k].summary,s);if(S!==undefined){continue}}if(!E){if(isNaN(m[k])){m[k]=F}else{F+=m[k]}m[k]=F}else{if(!isNaN(v)){F+=v}v=F}}if(isNaN(F)||(K&&F<=0)){continue}y=P=F}}if((isNaN(C)||P>C)&&((isNaN(n.maxValue))?true:P<=n.maxValue)){C=P}if((isNaN(W)||y<W)&&((isNaN(n.minValue))?true:y>=n.minValue)){W=y}if(!isNaN(F)&&E&&!Q){if(F>r){u+=F}else{if(F<r){w+=F}}}}if(!e){if(!isNaN(n.maxValue)){u=Math.min(n.maxValue,u)}if(!isNaN(n.minValue)){w=Math.max(n.minValue,w)}}if(K&&e){for(var k=0;k<A.series.length;k++){if(!this._isSerieVisible(s,k)){V=0.01;continue}var F=this._getDataValueAsNumber(T,A.series[k].dataField,s);if(isNaN(F)||F<=0){V=0.01;continue}var N=u==0?0:F/u;if(isNaN(V)||N<V){V=N}}}var o=u-w;if(c<o){c=o}if(e){x.psums[T]=u;x.nsums[T]=w}if(C>M||isNaN(M)){M=C}if(W<t||isNaN(t)){t=W}if(u>d||isNaN(d)){d=u}if(w<f||isNaN(f)){f=w}}if(e){d=d==0?0:Math.max(d,-f);f=f==0?0:Math.min(f,-d)}var O={gmin:t,gmax:M,gsumP:d,gsumN:f,gbase:r,isLogAxis:K,logBase:J,minPercent:V,gMaxRange:c,isStacked:E,isStacked100:e,isWaterfall:Q,hasStackValueReversal:g,valueAxis:n,valueAxisSize:I};x.context=O}this._mergeCommonValueAxisStats();for(var T=0;T<U.seriesGroups.length;T++){var x=U.seriesGroups[T];var L=this._calcOutputGroupStats(x.context);for(var R in L){x[R]=L[R]}delete x.context}},_mergeCommonValueAxisStats:function(){var f={};for(var e=0;e<this.seriesGroups.length;e++){if(this.seriesGroups[e].valueAxis){continue}var d=this._stats.seriesGroups[e].context;if(isNaN(f.gmin)||f.gmin>d.gmin){f.gmin=d.gmin}if(isNaN(f.gmax)||f.gmax<d.gmax){f.gmax=d.gmax}if(isNaN(f.gsumP)||f.gsumP<d.gsumP){f.gsumP=d.gsumP}if(isNaN(f.gsumN)||f.gsumN<d.gsumN){f.gsumN=d.gsumN}if(isNaN(f.logBase)||f.logBase>d.logBase){f.logBase=d.logBase}if(isNaN(f.minPercent)||f.minPercent>d.minPercent){f.minPercent=d.minPercent}}for(var e=0;e<this.seriesGroups.length;e++){if(this.seriesGroups[e].valueAxis){continue}var b=this._stats.seriesGroups[e].context;for(var c in f){b[c]=f[c]}}},_calcOutputGroupStats:function(g){var c=g.gmin,f=g.gmax,y=g.gsumP,z=g.gsumN,x=g.gbase,d=g.isLogAxis,j=g.logBase,t=g.minPercent,k=g.gMaxRange,l=g.isStacked,h=g.isStacked100,e=g.isWaterfall,n=g.hasStackValueReversal,w=g.valueAxis,u=g.valueAxisSize;var s=g.valueAxis.unitInterval;if(!s){s=this._calcInterval(l?z:c,l?y:f,Math.max(u/80,2))}if(c==f){c=x;s=f;f=2*f}var i=NaN;var b=0;var q=0;if(d){if(h){i=0;var r=1;b=q=a.jqx.log(100,j);while(r>t){r/=j;b--;i++}c=Math.pow(j,b)}else{if(l&&!e){f=Math.max(f,y)}q=a.jqx._rnd(a.jqx.log(f,j),1,true);f=Math.pow(j,q);b=a.jqx._rnd(a.jqx.log(c,j),1,false);c=Math.pow(j,b)}s=j}if(c<z){z=c}if(f>y){y=f}var v=d?c:a.jqx._rnd(l&&!e?z:c,s,false);var o=d?f:a.jqx._rnd(l&&!e?y:f,s,true);if(h&&o>100){o=100}if(h&&!d){o=(o>0)?100:0;v=(v<0)?-100:0;s=w.unitInterval;if(isNaN(s)||s<=0||s>=100){s=10}if((100%s)!=0){for(;s>=1;s--){if((100%s)==0){break}}}}if(isNaN(o)||isNaN(v)||isNaN(s)){return{}}if(isNaN(i)){i=parseInt(((o-v)/(s==0?1:s)).toFixed())}if(d&&!h){i=q-b;k=Math.pow(j,i)}if(i<1){return{}}var m={min:v,max:o,logarithmic:d,logBase:j,base:d?v:x,minPow:b,maxPow:q,mu:s,maxRange:k,intervals:i,hasStackValueReversal:n};return m},_getDataLen:function(c){var b=this.source;if(c!=undefined&&c!=-1&&this.seriesGroups[c].source){b=this.seriesGroups[c].source}if(b instanceof a.jqx.dataAdapter){b=b.records}if(b){return b.length}return 0},_getDataValue:function(b,e,d){var c=this.source;if(d!=undefined&&d!=-1){c=this.seriesGroups[d].source||c}if(c instanceof a.jqx.dataAdapter){c=c.records}if(!c||b<0||b>c.length-1){return undefined}if(a.isFunction(e)){return e(b,c)}return(e&&e!="")?c[b][e]:c[b]},_getDataValueAsNumber:function(b,e,c){var d=this._getDataValue(b,e,c);if(this._isDate(d)){return d.valueOf()}if(typeof(d)!="number"){d=parseFloat(d)}if(typeof(d)!="number"){d=undefined}return d},_isPieGroup:function(b){var c=this.seriesGroups[b];if(!c||!c.type){return false}return c.type.indexOf("pie")!=-1||c.type.indexOf("donut")!=-1},_renderPieSeries:function(e,c){var f=this._getDataLen(e);var g=this.seriesGroups[e];var m=this._calcGroupOffsets(e,c).offsets;for(var p=0;p<g.series.length;p++){var k=g.series[p];if(k.customDraw){continue}var v=this._getSerieSettings(e,p);var h=k.colorScheme||g.colorScheme||this.colorScheme;var r=this._getAnimProps(e,p);var b=r.enabled&&f<5000&&!this._isToggleRefresh&&this._isVML!=true?r.duration:0;if(a.jqx.mobile.isMobileBrowser()&&(this.renderer instanceof a.jqx.HTML5Renderer)){b=0}var t=this._get([k.minAngle,k.startAngle]);if(isNaN(t)||t<0||t>360){t=0}var x=this._get([k.maxAngle,k.endAngle]);if(isNaN(x)||x<0||x>360){x=360}var o={rect:c,minAngle:t,maxAngle:x,groupIndex:e,serieIndex:p,settings:v,items:[]};for(var u=0;u<f;u++){var n=m[p][u];if(!n.visible){continue}var q=n.fromAngle;var d=n.toAngle;var w=this.renderer.pieslice(n.x,n.y,n.innerRadius,n.outerRadius,q,b==0?d:q,n.centerOffset);var j={element:w,displayValue:n.displayValue,itemIndex:u,visible:n.visible,x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:n.outerRadius,fromAngle:q,toAngle:d,centerOffset:n.centerOffset};o.items.push(j)}this._animatePieSlices(o,0);var l=this;this._enqueueAnimation("series",undefined,undefined,b,function(s,i,y){l._animatePieSlices(i,y)},o)}},_sliceSortFunction:function(d,c){return d.fromAngle-c.fromAngle},_animatePieSlices:function(m,b){var k;if(this._elementRenderInfo&&this._elementRenderInfo.length>m.groupIndex&&this._elementRenderInfo[m.groupIndex].series&&this._elementRenderInfo[m.groupIndex].series.length>m.serieIndex){k=this._elementRenderInfo[m.groupIndex].series[m.serieIndex]}var G=360*b;var K=this.seriesGroups[m.groupIndex];var v=this._getLabelsSettings(m.groupIndex,m.serieIndex,NaN);var N=v.visible;var l=[];for(var I=0;I<m.items.length;I++){var A=m.items[I];if(!A.visible){continue}var c=A.fromAngle;var B=A.fromAngle+b*(A.toAngle-A.fromAngle);if(k&&k[A.displayValue]){var h=k[A.displayValue].fromAngle;var x=k[A.displayValue].toAngle;c=h+(c-h)*b;B=x+(B-x)*b}l.push({index:I,from:c,to:B})}if(k){l.sort(this._sliceSortFunction)}var u=NaN;for(var I=0;I<l.length;I++){var A=m.items[l[I].index];if(A.labelElement){this.renderer.removeElement(A.labelElement)}var c=l[I].from;var B=l[I].to;if(k){if(!isNaN(u)&&c>u){c=u}u=B;if(I==l.length-1&&B!=l[0].from){B=m.maxAngle+l[0].from}}var L=this.renderer.pieSlicePath(A.x,A.y,A.innerRadius,A.outerRadius,c,B,A.centerOffset);this.renderer.attr(A.element,{d:L});var F=this._getColors(m.groupIndex,m.serieIndex,A.itemIndex,"radialGradient",A.outerRadius);var J=m.settings;this.renderer.attr(A.element,{fill:F.fillColor,stroke:F.lineColor,"stroke-width":J.stroke,"fill-opacity":J.opacity,"stroke-opacity":J.opacity,"stroke-dasharray":"none"||J.dashStyle});var E=K.series[m.serieIndex];if(N){var q=c,H=B;var y=Math.abs(q-H);var M=y>180?1:0;if(y>360){q=0;H=360}var f=q*Math.PI*2/360;var t=H*Math.PI*2/360;var z=y/2+q;z=z%360;var d=z*Math.PI*2/360;var e;if(v.autoRotate==true){e=z<90||z>270?360-z:180-z}var r=v.linesEnabled;var j=this._showLabel(m.groupIndex,m.serieIndex,A.itemIndex,{x:0,y:0,width:0,height:0},"center","center",true,false,false,e);var w=v.radius||A.outerRadius+Math.max(j.width,j.height);w+=A.centerOffset;var D=a.jqx.getNum([E.offsetX,K.offsetX,m.rect.width/2]);var C=a.jqx.getNum([E.offsetY,K.offsetY,m.rect.height/2]);var o=m.rect.x+D;var n=m.rect.y+C;var p=this._adjustTextBoxPosition(o,n,j,w,z,A.outerRadius>w,v.linesAngles!=false,v.autoRotate==true);A.labelElement=this._showLabel(m.groupIndex,m.serieIndex,A.itemIndex,{x:p.x,y:p.y,width:j.width,height:j.height},"left","top",false,false,false,e);if(w>A.outerRadius+5&&r!=false){A.labelArrowPath=this._updateLebelArrowPath(A.labelArrowPath,o,n,w,A.outerRadius,d,v.linesAngles!=false,F,J)}}if(b==1){this._installHandlers(A.element,"pieslice",m.groupIndex,m.serieIndex,A.itemIndex)}}},_updateLebelArrowPath:function(e,j,g,i,k,h,n,b,f){var d=a.jqx._ptrnd(j+(i-0)*Math.cos(h));var m=a.jqx._ptrnd(g-(i-0)*Math.sin(h));var c=a.jqx._ptrnd(j+(k+2)*Math.cos(h));var l=a.jqx._ptrnd(g-(k+2)*Math.sin(h));var o="M "+d+","+m+" L"+c+","+l;if(n){o="M "+d+","+m+" L"+c+","+m+" L"+c+","+l}if(e){this.renderer.attr(e,{d:o})}else{e=this.renderer.path(o,{})}this.renderer.attr(e,{fill:"none",stroke:b.lineColor,"stroke-width":f.stroke,"stroke-opacity":f.opacity,"stroke-dasharray":"none"||f.dashStyle});return e},_adjustTextBoxPosition:function(f,e,n,g,s,c,i,o){var d=s*Math.PI*2/360;var k=a.jqx._ptrnd(f+g*Math.cos(d));var j=a.jqx._ptrnd(e-g*Math.sin(d));if(o){var l=n.width;var p=n.height;var t=Math.atan(p/l)%(Math.PI*2);var u=d%(Math.PI*2);var r=0,q=0;var m=0;if(u<=t){m=l/2*Math.cos(d)}else{if(u>=t&&u<Math.PI-t){m=(p/2)*Math.sin(d)}else{if(u>=Math.PI-t&&u<Math.PI+t){m=l/2*Math.cos(d)}else{if(u>=Math.PI+t&&u<2*Math.PI-t){m=p/2*Math.sin(d)}else{if(u>=2*Math.PI-t&&u<2*Math.PI){m=l/2*Math.cos(d)}}}}}g+=Math.abs(m)+3;var k=a.jqx._ptrnd(f+g*Math.cos(d));var j=a.jqx._ptrnd(e-g*Math.sin(d));k-=n.width/2;j-=n.height/2;return{x:k,y:j}}if(!c){if(!i){if(s>=0&&s<45||s>=315&&s<360){j-=n.height/2}else{if(s>=45&&s<135){j-=n.height;k-=n.width/2}else{if(s>=135&&s<225){j-=n.height/2;k-=n.width}else{if(s>=225&&s<315){k-=n.width/2}}}}}else{if(s>=90&&s<270){j-=n.height/2;k-=n.width}else{j-=n.height/2}}}else{k-=n.width/2;j-=n.height/2}return{x:k,y:j}},_isColumnType:function(b){return(b.indexOf("column")!=-1||b.indexOf("waterfall")!=-1)},_getColumnGroupsCount:function(c){var e=0;c=c||"vertical";var f=this.seriesGroups;for(var d=0;d<f.length;d++){var b=f[d].orientation||"vertical";if(this._isColumnType(f[d].type)&&b==c){e++}}return e},_getColumnGroupIndex:function(g){var b=0;var c=this.seriesGroups[g].orientation||"vertical";for(var e=0;e<g;e++){var f=this.seriesGroups[e];var d=f.orientation||"vertical";if(this._isColumnType(f.type)&&d==c){b++}}return b},_renderAxisBands:function(f,A,I){var x=I?this._getXAxis(f):this._getValueAxis(f);var t=this.seriesGroups[f];var v=I?undefined:t.bands;if(!v){for(var N=0;N<f;N++){var n=I?this._getXAxis(N):this._getValueAxis(N);if(n==x){return}}v=x.bands}if(!a.isArray(v)){return}var o=A;var T=t.orientation=="horizontal";if(T){o={x:A.y,y:A.x,width:A.height,height:A.width}}this._calcGroupOffsets(f,o);for(var N=0;N<v.length;N++){var c=v[N];var R=this._get([c.minValue,c.from]);var w=this._get([c.maxValue,c.to]);var s=I?this.getXAxisDataPointOffset(R,f):this.getValueAxisDataPointOffset(R,f);var S=I?this.getXAxisDataPointOffset(w,f):this.getValueAxisDataPointOffset(w,f);var y=Math.abs(s-S);var H;if(t.polar||t.spider){var r=this._renderData[f];var d=r.polarCoords;if(!I){var D=this._toPolarCoord(d,A,A.x,r.baseOffset);var C=this._toPolarCoord(d,A,A.x,s);var B=this._toPolarCoord(d,A,A.x,S);var q=a.jqx._ptdist(D.x,D.y,C.x,C.y);var p=a.jqx._ptdist(D.x,D.y,B.x,B.y);var h=Math.round(-d.startAngle*360/(2*Math.PI));var O=Math.round(-d.endAngle*360/(2*Math.PI));if(h>O){var G=h;h=O;O=G}if(t.spider){var E=r.xAxis.offsetAngles;var F="";var K=[p,q];var z=E;if(d.isClosedCircle){z=a.extend([],E);z.push(z[0])}for(var J in K){for(var L=0;L<z.length;L++){var Q=J==0?L:E.length-L-1;var l=d.x+K[J]*Math.cos(z[Q]);var g=d.y+K[J]*Math.sin(z[Q]);if(F==""){F+="M "}else{F+=" L"}F+=a.jqx._ptrnd(l)+","+a.jqx._ptrnd(g)}if(J==0){var l=d.x+K[1]*Math.cos(z[Q]);var g=d.y+K[1]*Math.sin(z[Q]);F+=" L"+a.jqx._ptrnd(l)+","+a.jqx._ptrnd(g)}}F+=" Z";H=this.renderer.path(F)}else{H=this.renderer.pieslice(d.x,d.y,q,p,h,O)}}else{if(t.spider){p1=this.getPolarDataPointOffset(R,this._stats.seriesGroups[f].max,f);p2=this.getPolarDataPointOffset(w,this._stats.seriesGroups[f].max,f);var F="M "+d.x+","+d.y;F+=" L "+p1.x+","+p1.y;F+=" L "+p2.x+","+p2.y;H=this.renderer.path(F)}else{var e=[];var m={x:Math.min(s,S),y:A.y,width:y,height:A.height};this._columnAsPieSlice(e,0,A,d,m);H=e[0]}}}else{var b={x:Math.min(s,S),y:o.y,width:y,height:o.height};if(!I){b={x:o.x,y:Math.min(s,S),width:o.width,height:y}}if(T){var G=b.x;b.x=b.y;b.y=G;G=b.width;b.width=b.height;b.height=G}if(y==0||y==1){H=this.renderer.line(a.jqx._ptrnd(b.x),a.jqx._ptrnd(b.y),a.jqx._ptrnd(b.x+(T?0:b.width)),a.jqx._ptrnd(b.y+(T?b.height:0)))}else{H=this.renderer.rect(b.x,b.y,b.width,b.height)}}var U=c.fillColor||c.color||"#AAAAAA";var P=c.lineColor||U;var u=c.lineWidth;if(isNaN(u)){u=1}var M=c.opacity;if(isNaN(M)||M<0||M>1){M=1}this.renderer.attr(H,{fill:U,"fill-opacity":M,stroke:P,"stroke-opacity":M,"stroke-width":u,"stroke-dasharray":c.dashStyle})}},_getColumnGroupWidth:function(m,h,o){var e=this.seriesGroups[m];var l=e.type.indexOf("stacked")!=-1;var d=l?1:e.series.length;var k=this._getColumnGroupsCount(e.orientation);if(isNaN(k)||0==k){k=1}var n=h.rangeLength>=1?h.itemWidth:o*0.9;var c=e.columnsMinWidth;if(isNaN(c)){c=1}if(!isNaN(e.columnsMaxWidth)){c=Math.min(e.columnsMaxWidth,c)}if(c>n&&h.length>0){n=Math.max(n,o*0.9/h.length)}var i=c;if(!l){var f=e.seriesGapPercent;if(isNaN(f)||f<0){f=10}f/=100;var b=c;b*=(1+f);i+=e.series.length*b}var j=Math.max(n/k,i);return{requiredWidth:i,availableWidth:n,targetWidth:j}},_getColumnSerieWidthAndOffset:function(d,e){var m=this.seriesGroups[d];var u=m.series[e];var c=m.orientation=="horizontal";var b=this._plotRect;if(c){b={x:b.y,y:b.x,width:b.height,height:b.width}}var v=this._calcGroupOffsets(d,b);if(!v||v.xoffsets.length==0){return}var l=true;var w=this._getColumnGroupsCount(m.orientation);if(m.type=="candlestick"||m.type=="ohlc"){w=1}var q=this._getColumnGroupIndex(d);var r=this._getColumnGroupWidth(d,v.xoffsets,c?b.height:b.width);var h=0;var f=r.targetWidth;if(this.columnSeriesOverlap==true||(Math.round(f)>Math.round(r.availableWidth/w))){w=1;q=0}if(l){h-=(f*w)/2}h+=f*q;var B=m.columnsGapPercent;if(B<=0){B=0}if(isNaN(B)||B>=100){B=25}B/=100;var k=f*B;if(k+r.requiredWidth>r.targetWidth){k=Math.max(0,r.targetWidth-r.requiredWidth)}if(Math.round(f)>Math.round(r.availableWidth)){k=0}f-=k;h+=k/2;var x=m.seriesGapPercent;if(isNaN(x)||x<0){x=10}var n=m.type.indexOf("stacked")!=-1;var t=f;if(!n){t/=m.series.length}var y=this._get([m.seriesGap,(f*x/100)/(m.series.length-1)]);if(m.polar==true||m.spider==true||n||m.series.length<=1){y=0}var o=y*(m.series.length-1);if(m.series.length>1&&o>f-m.series.length*1){o=f-m.series.length*1;y=o/Math.max(1,(m.series.length-1))}var g=t-(o/m.series.length);var A=0;var i=m.columnsMaxWidth;if(!isNaN(i)){if(g>i){A=g-i;g=i}}var z=A/2;var j=0;if(!n){var C=(f-(g*m.series.length)-o)/2;var p=Math.max(0,e);j=C+g*e+p*y}else{j=A/2}return{width:g,offset:h+j}},_renderColumnSeries:function(f,c){var j=this.seriesGroups[f];if(!j.series||j.series.length==0){return}var h=this._getDataLen(f);var e=j.orientation=="horizontal";var y=c;if(e){y={x:c.y,y:c.x,width:c.height,height:c.width}}var p=this._calcGroupOffsets(f,y);if(!p||p.xoffsets.length==0){return}var m;if(j.polar==true||j.spider==true){m=this._getPolarAxisCoords(f,y)}var r={groupIndex:f,rect:c,vertical:!e,seriesCtx:[],renderData:p,polarAxisCoords:m};r.columnGroupWidth=this._getColumnGroupWidth(f,p.xoffsets,e?y.height:y.width);var g=this._getGroupGradientType(f);for(var t=0;t<j.series.length;t++){var n=j.series[t];if(n.customDraw){continue}var w=n.dataField;var u=this._getAnimProps(f,t);var b=u.enabled&&!this._isToggleRefresh&&p.xoffsets.length<100?u.duration:0;var k=this._getColumnSerieWidthAndOffset(f,t);var q=this._isSerieVisible(f,t);var l=this._getSerieSettings(f,t);var z=this._getColors(f,t,NaN,this._getGroupGradientType(f),4);var d=[];if(a.isFunction(n.colorFunction)&&!m){for(var x=p.xoffsets.first;x<=p.xoffsets.last;x++){d.push(this._getColors(f,t,x,g,4))}}var v={seriesIndex:t,serieColors:z,itemsColors:d,settings:l,columnWidth:k.width,xAdjust:k.offset,isVisible:q};r.seriesCtx.push(v)}this._animColumns(r,b==0?1:0);var o=this;this._enqueueAnimation("series",undefined,undefined,b,function(s,i,A){o._animColumns(i,A)},r)},_getColumnVOffsets:function(p,e,t,z,k,b){var j=this.seriesGroups[e];var g=[];for(var y=0;y<t.length;y++){var w=t[y];var u=w.seriesIndex;var n=j.series[u];var v=p.offsets[u][z].from;var c=p.offsets[u][z].to;var A=p.xoffsets.data[z];var d;var r=w.isVisible;if(!r){c=v}if(r&&this._elementRenderInfo&&this._elementRenderInfo.length>e){var l=p.xoffsets.xvalues[z];d=this._elementRenderInfo[e].series[u][l];if(d&&!isNaN(d.from)&&!isNaN(d.to)){v=d.from+(v-d.from)*b;c=d.to+(c-d.to)*b;A=d.xoffset+(A-d.xoffset)*b}}if(!d){c=v+(c-v)*(k?1:b)}if(isNaN(v)){v=0}if(isNaN(c)){c=isNaN(v)?0:v}g.push({from:v,to:c,xOffset:A})}if(k&&g.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>e)){var f=0,h=0;for(var x=0;x<g.length;x++){if(g[x].to>=g[x].from){h+=g[x].to-g[x].from}else{f+=g[x].from-g[x].to}}f*=b;h*=b;var o=0,q=0;for(var x=0;x<g.length;x++){if(g[x].to>=g[x].from){var m=g[x].to-g[x].from;if(m+q>h){m=Math.max(0,h-q);g[x].to=g[x].from+m}q+=m}else{var m=g[x].from-g[x].to;if(m+o>f){m=Math.max(0,f-o);g[x].to=g[x].from-m}o+=m}}}return g},_columnAsPieSlice:function(b,f,l,n,p){var e=this._toPolarCoord(n,l,p.x,p.y);var g=this._toPolarCoord(n,l,p.x,p.y+p.height);var m=a.jqx._ptdist(n.x,n.y,g.x,g.y);var j=a.jqx._ptdist(n.x,n.y,e.x,e.y);var d=l.width;var o=Math.abs(n.startAngle-n.endAngle)*180/Math.PI;var c=-((p.x-l.x)*o)/d;var i=-((p.x+p.width-l.x)*o)/d;var k=n.startAngle;k=360*k/(Math.PI*2);c-=k;i-=k;if(b&&!isNaN(f)){if(b[f]!=undefined){var h=this.renderer.pieSlicePath(n.x,n.y,m,j,i,c,0);h+=" Z";this.renderer.attr(b[f],{d:h})}else{b[f]=this.renderer.pieslice(n.x,n.y,m,j,i,c,0)}}return{fromAngle:i,toAngle:c,innerRadius:m,outerRadius:j}},_animColumns:function(S,b){var m=S.groupIndex;var t=this.seriesGroups[m];var o=S.renderData;var L=t.type.indexOf("waterfall")!=-1;var y=this._getXAxis(m);var A=t.type.indexOf("stacked")!=-1;var c=S.polarAxisCoords;var s=this._getGroupGradientType(m);var n=S.columnGroupWidth.targetWidth;var q=-1;for(var M=0;M<t.series.length;M++){if(this._isSerieVisible(m,M)){q=M;break}}var K=S.renderData.xoffsets;var G=-1;var E={};for(var O=K.first;O<=K.last;O++){var I=K.data[O];if(isNaN(I)){continue}if(G!=-1&&Math.abs(I-G)<n-1&&t.skipOverlappingPoints!=false){continue}else{G=I}var w=this._getColumnVOffsets(o,m,S.seriesCtx,O,A,b);for(var u=0;u<S.seriesCtx.length;u++){var R=S.seriesCtx[u];var h=R.seriesIndex;var v=t.series[h];var p=w[u].from;var T=w[u].to;var C=w[u].xOffset;if(!R.elements){R.elements={}}if(!R.labelElements){R.labelElements={}}var f=R.elements;var r=R.labelElements;var d=(S.vertical?S.rect.x:S.rect.y)+R.xAdjust;var Q=R.settings;var J=R.itemsColors.length!=0?R.itemsColors[O-o.xoffsets.first]:R.serieColors;var e=this._isSerieVisible(m,h);if(!e&&!A){continue}var I=a.jqx._ptrnd(d+C);var F={x:I,width:R.columnWidth};var g=true;if(S.vertical){F.y=p;F.height=T-p;if(F.height<0){F.y+=F.height;F.height=-F.height;g=false}}else{F.x=p<T?p:T;F.width=Math.abs(p-T);F.y=I;F.height=R.columnWidth}var k=p-T;if(isNaN(k)){continue}k=Math.abs(k);var z=undefined;if(f[O]==undefined){if(!c){f[O]=this.renderer.rect(F.x,F.y,S.vertical?F.width:0,S.vertical?0:F.height)}else{z=this._columnAsPieSlice(f,O,S.rect,c,F)}this.renderer.attr(f[O],{fill:J.fillColor,"fill-opacity":Q.opacity,"stroke-opacity":Q.opacity,stroke:J.lineColor,"stroke-width":Q.stroke,"stroke-dasharray":Q.dashStyle})}if(k<1&&(b!=1||c)){this.renderer.attr(f[O],{display:"none"})}else{this.renderer.attr(f[O],{display:"block"})}if(c){z=this._columnAsPieSlice(f,O,S.rect,c,F);var J=this._getColors(m,h,undefined,"radialGradient",z.outerRadius);this.renderer.attr(f[O],{fill:J.fillColor,"fill-opacity":Q.opacity,"stroke-opacity":Q.opacity,stroke:J.lineColor,"stroke-width":Q.stroke,"stroke-dasharray":Q.dashStyle})}else{if(S.vertical==true){this.renderer.attr(f[O],{x:F.x,y:F.y,height:k})}else{this.renderer.attr(f[O],{x:F.x,y:F.y,width:k})}}this.renderer.removeElement(r[O]);if(!e||(k==0&&b<1)){continue}if(L){if(!A||(A&&u==q)){var N=A?-1:u;if(b==1&&!isNaN(o.offsets[u][O].from)&&!isNaN(o.offsets[u][O].to)){var D=E[N];if(D!=undefined){var P=a.jqx._ptrnd(D.y);this.renderer.line(D.x,P,F.x+(y.flip?F.width:0),P,{stroke:D.color,"stroke-width":Q.stroke,"stroke-opacity":Q.opacity,"fill-opacity":Q.opacity,"stroke-dasharray":Q.dashStyle})}}}if(b==1&&k!=0){E[A?-1:u]={y:T,x:F.x+F.width,color:J.lineColor}}}if(c){var H=this._toPolarCoord(c,S.rect,F.x+F.width/2,F.y);var l=this._showLabel(m,h,O,F,undefined,undefined,true);var B=z.outerRadius+10;labelOffset=this._adjustTextBoxPosition(c.x,c.y,l,B,(z.fromAngle+z.toAngle)/2,true,false,false);r[O]=this._showLabel(m,h,O,{x:labelOffset.x,y:labelOffset.y},undefined,undefined,false,false,false)}else{r[O]=this._showLabel(m,h,O,F,undefined,undefined,false,false,g)}if(b==1){this._installHandlers(f[O],"column",m,h,O)}}}},_renderCandleStickSeries:function(e,c,r){var l=this;var h=l.seriesGroups[e];if(!h.series||h.series.length==0){return}var d=h.orientation=="horizontal";var u=c;if(d){u={x:c.y,y:c.x,width:c.height,height:c.width}}var m=l._calcGroupOffsets(e,u);if(!m||m.xoffsets.length==0){return}var v=u.width;var j;if(h.polar||h.spider){j=l._getPolarAxisCoords(e,u);v=2*j.r}var g=l._alignValuesWithTicks(e);var f=l._getGroupGradientType(e);for(var o=0;o<h.series.length;o++){if(!this._isSerieVisible(e,o)){continue}var t=l._getSerieSettings(e,o);var k=h.series[o];if(k.customDraw){continue}var i=a.isFunction(k.colorFunction)?undefined:l._getColors(e,o,NaN,f);var n={rect:c,inverse:d,groupIndex:e,seriesIndex:o,symbolType:k.symbolType,symbolSize:k.symbolSize,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle,gradientType:f,colors:i,renderData:m,polarAxisCoords:j,columnInfo:l._getColumnSerieWidthAndOffset(e,o),isOHLC:r,items:[],self:l};var p=l._getAnimProps(e,o);var b=p.enabled&&!l._isToggleRefresh&&m.xoffsets.length<5000?p.duration:0;l._animCandleStick(n,0);var q;l._enqueueAnimation("series",undefined,undefined,b,function(x,s,w){l._animCandleStick(s,w)},n)}},_animCandleStick:function(p,b){var o=["Open","Low","Close","High"];var d=p.columnInfo.width;var f=p.self.seriesGroups[p.groupIndex];var s=p.renderData.xoffsets;var z=-1;var l=Math.abs(s.data[s.last]-s.data[s.first]);l*=b;for(var u=s.first;u<=s.last;u++){var k=s.data[u];if(isNaN(k)){continue}if(z!=-1&&Math.abs(k-z)<d-1&&f.skipOverlappingPoints!=false){continue}var v=Math.abs(s.data[u]-s.data[s.first]);if(v>l){break}z=k;var w=p.items[u]=p.items[u]||{};for(var t in o){var A=p.self._getDataValueAsNumber(u,f.series[p.seriesIndex]["dataField"+o[t]],p.groupIndex);if(isNaN(A)){break}var h=p.renderData.offsets[p.seriesIndex][u][o[t]];if(isNaN(h)){break}w[o[t]]=h}k+=p.inverse?p.rect.y:p.rect.x;if(p.polarAxisCoords){var q=this._toPolarCoord(p.polarAxisCoords,this._plotRect,k,h);k=q.x;h=q.y}k=a.jqx._ptrnd(k);for(var e in o){w[e]=a.jqx._ptrnd(w[e])}var g=p.colors;if(!g){g=p.self._getColors(p.groupIndex,p.seriesIndex,u,p.gradientType)}if(!p.isOHLC){var r=w.lineElement;if(!r){r=p.inverse?this.renderer.line(w.Low,k,w.High,k):this.renderer.line(k,w.Low,k,w.High);this.renderer.attr(r,{fill:g.fillColor,"fill-opacity":p["fill-opacity"],"stroke-opacity":p["fill-opacity"],stroke:g.lineColor,"stroke-width":p["stroke-width"],"stroke-dasharray":p["stroke-dasharray"]});w.lineElement=r}var n=w.stickElement;k-=d/2;if(!n){var c=g.fillColor;if(w.Close<=w.Open&&g.fillColorAlt){c=g.fillColorAlt}n=p.inverse?this.renderer.rect(Math.min(w.Open,w.Close),k,Math.abs(w.Close-w.Open),d):this.renderer.rect(k,Math.min(w.Open,w.Close),d,Math.abs(w.Close-w.Open));this.renderer.attr(n,{fill:c,"fill-opacity":p["fill-opacity"],"stroke-opacity":p["fill-opacity"],stroke:g.lineColor,"stroke-width":p["stroke-width"],"stroke-dasharray":p["stroke-dasharray"]});w.stickElement=n}if(b==1){this._installHandlers(n,"column",p.groupIndex,p.seriesIndex,u)}}else{var m="M"+k+","+w.Low+" L"+k+","+w.High+" M"+(k-d/2)+","+w.Open+" L"+k+","+w.Open+" M"+(k+d/2)+","+w.Close+" L"+k+","+w.Close;if(p.inverse){m="M"+w.Low+","+k+" L"+w.High+","+k+" M"+w.Open+","+(k-d/2)+" L"+w.Open+","+k+" M"+w.Close+","+k+" L"+w.Close+","+(k+d/2)}var r=w.lineElement;if(!r){r=this.renderer.path(m,{});this.renderer.attr(r,{fill:g.fillColor,"fill-opacity":p["fill-opacity"],"stroke-opacity":p["fill-opacity"],stroke:g.lineColor,"stroke-width":p["stroke-width"],"stroke-dasharray":p["stroke-dasharray"]});w.lineElement=r}if(b==1){this._installHandlers(r,"column",p.groupIndex,p.seriesIndex,u)}}}},_renderScatterSeries:function(d,B,D){var q=this.seriesGroups[d];if(!q.series||q.series.length==0){return}var e=q.type.indexOf("bubble")!=-1;var t=q.orientation=="horizontal";var l=B;if(t){l={x:B.y,y:B.x,width:B.height,height:B.width}}var m=this._calcGroupOffsets(d,l);if(!m||m.xoffsets.length==0){return}var L=l.width;var b;if(q.polar||q.spider){b=this._getPolarAxisCoords(d,l);L=2*b.r}var T=this._alignValuesWithTicks(d);var p=this._getGroupGradientType(d);if(!D){D="to"}for(var f=0;f<q.series.length;f++){var R=this._getSerieSettings(d,f);var I=q.series[f];if(I.customDraw){continue}var w=I.dataField;var k=a.isFunction(I.colorFunction);var J=this._getColors(d,f,NaN,p);var S=NaN,v=NaN;if(e){for(var Q=m.xoffsets.first;Q<=m.xoffsets.last;Q++){var A=this._getDataValueAsNumber(Q,(I.radiusDataField||I.sizeDataField),d);if(typeof(A)!="number"){throw"Invalid radiusDataField value at ["+Q+"]"}if(!isNaN(A)){if(isNaN(S)||A<S){S=A}if(isNaN(v)||A>v){v=A}}}}var h=I.minRadius||I.minSymbolSize;if(isNaN(h)){h=L/50}var C=I.maxRadius||I.maxSymbolSize;if(isNaN(C)){C=L/25}if(h>C){C=h}var K=I.radius;if(isNaN(K)&&!isNaN(I.symbolSize)){K=(I.symbolType=="circle")?I.symbolSize/2:I.symbolSize}else{K=5}var E=this._getAnimProps(d,f);var z=E.enabled&&!this._isToggleRefresh&&m.xoffsets.length<5000?E.duration:0;var u={groupIndex:d,seriesIndex:f,symbolType:I.symbolType,symbolSize:I.symbolSize,"fill-opacity":R.opacity,"stroke-opacity":R.opacity,"stroke-width":R.stroke,"stroke-dasharray":R.dashStyle,items:[],polarAxisCoords:b};for(var Q=m.xoffsets.first;Q<=m.xoffsets.last;Q++){var A=this._getDataValueAsNumber(Q,w,d);if(typeof(A)!="number"){continue}var H=m.xoffsets.data[Q];var F=m.xoffsets.xvalues[Q];var G=m.offsets[f][Q][D];if(isNaN(H)||isNaN(G)){continue}if(t){var O=H;H=G;G=O+B.y}else{H+=B.x}var M=K;if(e){var n=this._getDataValueAsNumber(Q,(I.radiusDataField||I.sizeDataField),d);if(typeof(n)!="number"){continue}M=h+(C-h)*(n-S)/Math.max(1,v-S);if(isNaN(M)){M=h}}var j=NaN,N=NaN;var o=0;if(F!=undefined&&this._elementRenderInfo&&this._elementRenderInfo.length>d){var c=this._elementRenderInfo[d].series[f][F];if(c&&!isNaN(c.to)){j=c.to;N=c.xoffset;o=K;if(t){var O=N;N=j;j=O+B.y}else{N+=B.x}if(e){o=h+(C-h)*(c.valueRadius-S)/Math.max(1,v-S);if(isNaN(o)){o=h}}}}if(k){J=this._getColors(d,f,Q,p)}u.items.push({from:o,to:M,itemIndex:Q,fill:J.fillColor,stroke:J.lineColor,x:H,y:G,xFrom:N,yFrom:j})}this._animR(u,0);var g=this;var P;this._enqueueAnimation("series",undefined,undefined,z,function(s,i,r){g._animR(i,r)},u)}},_animR:function(m,f){var g=m.items;var n=m.symbolType||"circle";var c=m.symbolSize;for(var e=0;e<g.length;e++){var l=g[e];var j=l.x;var h=l.y;var b=Math.round((l.to-l.from)*f+l.from);if(!isNaN(l.yFrom)){h=l.yFrom+(h-l.yFrom)*f}if(!isNaN(l.xFrom)){j=l.xFrom+(j-l.xFrom)*f}if(m.polarAxisCoords){var k=this._toPolarCoord(m.polarAxisCoords,this._plotRect,j,h);j=k.x;h=k.y}j=a.jqx._ptrnd(j);h=a.jqx._ptrnd(h);b=a.jqx._ptrnd(b);var d=l.element;if(n=="circle"){if(!d){d=this.renderer.circle(j,h,b);this.renderer.attr(d,{fill:l.fill,"fill-opacity":m["fill-opacity"],"stroke-opacity":m["fill-opacity"],stroke:l.stroke,"stroke-width":m["stroke-width"],"stroke-dasharray":m["stroke-dasharray"]});l.element=d}if(this._isVML){this.renderer.updateCircle(d,undefined,undefined,b)}else{this.renderer.attr(d,{r:b,cy:h,cx:j})}}else{if(d){this.renderer.removeElement(d)}l.element=d=this._drawSymbol(n,j,h,l.fill,m["fill-opacity"],l.stroke,m["stroke-opacity"]||m["fill-opacity"],m["stroke-width"],m["stroke-dasharray"],c||b)}if(l.labelElement){this.renderer.removeElement(l.labelElement)}l.labelElement=this._showLabel(m.groupIndex,m.seriesIndex,l.itemIndex,{x:j-b,y:h-b,width:2*b,height:2*b});if(f>=1){this._installHandlers(d,"circle",m.groupIndex,m.seriesIndex,l.itemIndex)}}},_showToolTip:function(D,B,j,d,c){var g=this;var p=g._getXAxis(j);if(g._ttEl&&j==g._ttEl.gidx&&d==g._ttEl.sidx&&c==g._ttEl.iidx){return}var m=g.seriesGroups[j];var e=m.series[d];var z=g.enableCrosshairs&&!(m.polar||m.spider);if(g._pointMarker){D=parseInt(g._pointMarker.x+5);B=parseInt(g._pointMarker.y-5)}else{z=false}var O=z&&g.showToolTips==false;D=a.jqx._ptrnd(D);B=a.jqx._ptrnd(B);var i=g._ttEl==undefined;if(m.showToolTips==false||e.showToolTips==false){return}var q=e.toolTipFormatSettings||m.toolTipFormatSettings;var w=e.toolTipFormatFunction||m.toolTipFormatFunction||g.toolTipFormatFunction;var I=g._getColors(j,d,c);var v=g._getDataValue(c,p.dataField,j);if(p.dataField==undefined||p.dataField==""){v=c}if(p.type=="date"){v=g._castAsDate(v)}var s="";if(a.isFunction(w)){var G={};var o=0;for(var h in e){if(h.indexOf("dataField")==0){G[h.substring(9,h.length).toLowerCase()]=g._getDataValue(c,e[h],j);o++}}if(o==0){G=g._getDataValue(c,undefined,j)}else{if(o==1){G=G[""]}}s=w(G,c,e,m,v,p)}else{s=g._getFormattedValue(j,d,c,q,w);var F=this._getAxisSettings(p);var J=F.toolTipFormatSettings;var N=F.toolTipFormatFunction;if(!N&&!J&&p.type=="date"){N=this._getDefaultDTFormatFn(p.baseUnit||"day")}var k=g._formatValue(v,J,N,j,d,c);if(!g._isPieGroup(j)){var H=(p.displayText||p.dataField||"");if(H.length>0){s=H+": "+k+"<br>"+s}else{s=k+"<br>"+s}}else{v=g._getDataValue(c,e.displayText||e.dataField,j);k=g._formatValue(v,J,N,j,d,c);s=k+": "+s}}var L=e.toolTipClass||m.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var n=e.toolTipBackground||m.toolTipBackground||"#FFFFFF";var l=e.toolTipLineColor||m.toolTipLineColor||I.lineColor;if(!g._ttEl){g._ttEl={}}g._ttEl.sidx=d;g._ttEl.gidx=j;g._ttEl.iidx=c;rect=g.renderer.getRect();if(z){var C=a.jqx._ptrnd(g._pointMarker.x);var A=a.jqx._ptrnd(g._pointMarker.y);if(g._ttEl.vLine&&g._ttEl.hLine){g.renderer.attr(g._ttEl.vLine,{x1:C,x2:C});g.renderer.attr(g._ttEl.hLine,{y1:A,y2:A})}else{var r=g.crosshairsColor||g._defaultLineColor;g._ttEl.vLine=g.renderer.line(C,g._plotRect.y,C,g._plotRect.y+g._plotRect.height,{stroke:r,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""});g._ttEl.hLine=g.renderer.line(g._plotRect.x,A,g._plotRect.x+g._plotRect.width,A,{stroke:r,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""})}}if(!O&&g.showToolTips!=false){var M=!i?g._ttEl.box:document.createElement("div");var E={left:0,top:0};if(i){M.style.position="absolute";M.style.cursor="default";M.style.overflow="hidden";a(M).addClass("jqx-rc-all jqx-button");a(M).css("z-index",9999999);a(document.body).append(M)}M.style.backgroundColor=n;M.style.borderColor=l;g._ttEl.box=M;g._ttEl.txt=s;var u="<span class='"+L+"'>"+s+"</span>";var K=g._ttEl.tmp;if(i){g._ttEl.tmp=K=document.createElement("div");K.style.position="absolute";K.style.cursor="default";K.style.overflow="hidden";K.style.display="none";K.style.zIndex=999999;K.style.backgroundColor=n;K.style.borderColor=l;a(K).addClass("jqx-rc-all jqx-button");g.host.append(K)}a(K).html(u);if(!s||s.length==0){a(M).fadeTo(0,0);return}var f={width:a(K).width(),height:a(K).height()};f.width=f.width+5;f.height=f.height+6;D=Math.max(D,rect.x);B=Math.max(B-f.height,rect.y);if(f.width>rect.width||f.height>rect.height){return}if(D+E.left+f.width>rect.x+rect.width-5){D=rect.x+rect.width-f.width-E.left-5}if(B+E.top+f.height>rect.y+rect.height-5){B=rect.y+rect.height-f.height-5}var b=g.host.coord();if(i){a(M).fadeOut(0,0);M.style.left=E.left+D+b.left+"px";M.style.top=E.top+B+b.top+"px"}a(M).html(u);a(M).clearQueue();a(M).animate({left:E.left+D+b.left,top:E.top+B+b.top,opacity:1},300,"easeInOutCirc");a(M).fadeTo(400,1)}},_hideToolTip:function(b){if(!this._ttEl){return}if(this._ttEl.box){if(b==0){a(this._ttEl.box).hide()}else{a(this._ttEl.box).fadeOut()}}this._hideCrosshairs();this._ttEl.gidx=undefined},_hideCrosshairs:function(){if(!this._ttEl){return}if(this._ttEl.vLine){this.renderer.removeElement(this._ttEl.vLine);this._ttEl.vLine=undefined}if(this._ttEl.hLine){this.renderer.removeElement(this._ttEl.hLine);this._ttEl.hLine=undefined}},_get:function(b){var d=undefined;for(var c=0;c<b.length&&d==undefined;c++){if(d==undefined&&b[c]!=undefined){d=b[c]}}return d},_getAxisSettings:function(f){if(!f){return{}}var l=this;var k=f.gridLines||{};var n={visible:(f.showGridLines!=false&&k.visible!=false),color:l._get([k.color,f.gridLinesColor,l._defaultLineColor]),unitInterval:l._get([k.unitInterval,k.interval,f.gridLinesInterval]),step:l._get([k.step,f.gridLinesStep]),dashStyle:l._get([k.dashStyle,f.gridLinesDashStyle]),width:l._get([k.lineWidth,1]),offsets:[],alternatingBackgroundColor:f.alternatingBackgroundColor,alternatingBackgroundColor2:f.alternatingBackgroundColor2,alternatingBackgroundOpacity:f.alternatingBackgroundOpacity};var d=f.tickMarks||{};var h={visible:(f.showTickMarks!=false&&d.visible!=false),color:l._get([d.color,f.tickMarksColor,l._defaultLineColor]),unitInterval:l._get([d.unitInterval,d.interval,f.tickMarksInterval]),step:l._get([d.step,f.tickMarksStep]),dashStyle:l._get([d.dashStyle,f.tickMarksDashStyle]),width:l._get([d.lineWidth,1]),size:l._get([d.size,4]),offsets:[]};var e=f.title||{};var c={visible:l._get([e.visible,true]),text:l._get([f.description,e.text]),style:l._get([f.descriptionClass,e["class"],l.toThemeProperty("jqx-chart-axis-description",null)]),halign:l._get([f.horizontalDescriptionAlignment,e.horizontalAlignment,"center"]),valign:l._get([f.verticalDescriptionAlignment,e.verticalAlignment,"center"]),angle:0,rotationPoint:l._get([e.rotationPoint,"centercenter"]),offset:l._get([e.offset,{x:0,y:0}])};var i=f.line||{};var b={visible:l._get([i.visible,true]),color:l._get([i.color,n.color,l._defaultLineColor]),dashStyle:l._get([i.dashStyle,n.dashStyle,""]),width:l._get([i.lineWidth,1])};var j=f.padding||{};j={left:j.left||0,right:j.right||0,top:j.top||0,bottom:j.bottom||0};var g=this._getAxisLabelsSettings(f);var m={visible:this._get([f.visible,f.showValueAxis,f.showXAxis,f.showCategoryAxis,true]),customDraw:this._get([f.customDraw,false]),gridLines:n,tickMarks:h,line:b,title:c,labels:g,padding:j,toolTipFormatFunction:this._get([f.toolTipFormatFunction,f.formatFunction,g.formatFunction]),toolTipFormatSettings:this._get([f.toolTipFormatSettings,f.formatSettings,g.formatSettings])};return m},_getAxisLabelsSettings:function(d){var b=this;var e=d.labels||{};var c={visible:b._get([d.showLabels,e.visible,true]),unitInterval:b._get([e.unitInterval,e.interval,d.labelsInterval]),step:b._get([e.step,d.labelsStep]),angle:b._get([d.textRotationAngle,e.angle,0]),style:b._get([d["class"],e["class"],b.toThemeProperty("jqx-chart-axis-text",null)]),halign:b._get([d.horizontalTextAlignment,e.horizontalAlignment,"center"]),valign:b._get([d.verticalTextAlignment,e.verticalAlignment,"center"]),textRotationPoint:b._get([d.textRotationPoint,e.rotationPoint,"auto"]),textOffset:b._get([d.textOffset,e.offset,{x:0,y:0}]),autoRotate:b._get([d.labelsAutoRotate,e.autoRotate,false]),formatSettings:b._get([d.formatSettings,e.formatSettings,false]),formatFunction:b._get([d.formatFunction,e.formatFunction,false])};return c},_getLabelsSettings:function(p,l,h,t){var j=this.seriesGroups[p];var r=j.series[l];var m=isNaN(h)?undefined:this._getDataValue(h,r.dataField,p);var k=t||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"];var q={};for(var f in k){if(f==="indexOf"){break}var n=k[f];var c="labels"+n;var b="label"+n;var o=n.substring(0,1).toLowerCase()+n.substring(1);var d=undefined;if(j.labels&&typeof(j.labels)=="object"){d=j.labels[o]}if(r.labels&&typeof(r.labels)=="object"&&undefined!=r.labels[o]){d=r.labels[o]}d=this._get([r[c],r[b],d,j[c],j[b]]);if(a.isFunction(d)){q[o]=d(m,h,r,j)}else{q[o]=d}}q["class"]=q["class"]||this.toThemeProperty("jqx-chart-label-text",null);q.visible=this._get([q.visible,r.showLabels,j.showLabels,r.labels!=undefined?true:undefined,j.labels!=undefined?true:undefined]);var e=q.padding||1;q.padding={left:this._get([e.left,isNaN(e)?1:e]),right:this._get([e.right,isNaN(e)?1:e]),top:this._get([e.top,isNaN(e)?1:e]),bottom:this._get([e.bottom,isNaN(e)?1:e])};return q},_showLabel:function(I,D,f,b,t,i,e,k,c,E){var m=this.seriesGroups[I];var r=m.series[D];var B={width:0,height:0},q;if(isNaN(f)){return}var H=this._getLabelsSettings(I,D,f);if(!H.visible){return e?B:undefined}if(b.width<0||b.height<0){return e?B:undefined}var g=H.angle;if(!isNaN(E)){g=E}var j=H.offset||{};var F={x:j.x,y:j.y};if(isNaN(F.x)){F.x=0}if(isNaN(F.y)){F.y=0}t=t||H.horizontalAlignment||"center";i=i||H.verticalAlignment||"center";var v=this._getFormattedValue(I,D,f,undefined,undefined,true);var s=b.width;var G=b.height;if(k==true&&t!="center"){t=t=="right"?"left":"right"}if(c==true&&i!="center"&&i!="middle"){i=i=="top"?"bottom":"top";F.y*=-1}B=this.renderer.measureText(v,g,{"class":H["class"]});if(e){return B}var p=0,n=0;if(s>0){if(t==""||t=="center"){p+=(s-B.width)/2}else{if(t=="right"){p+=(s-B.width)}}}if(G>0){if(i==""||i=="center"){n+=(G-B.height)/2}else{if(i=="bottom"){n+=(G-B.height)}}}p+=b.x+F.x;n+=b.y+F.y;var o=this._plotRect;if(p<=o.x){p=o.x+2}if(n<=o.y){n=o.y+2}var l={width:Math.max(B.width,1),height:Math.max(B.height,1)};if(n+l.height>=o.y+o.height){n=o.y+o.height-(q?(l.height+q.height)/2:l.height)-2}if(p+l.width>=o.x+o.width){p=o.x+o.width-l.width-2}var d;var A=H.backgroundColor;var C=H.borderColor;if(A||C){d=this.renderer.beginGroup();var z=H.padding;var b=this.renderer.rect(p-z.left,n-z.top,B.width+z.left+z.right,B.height+z.bottom+z.bottom,{fill:A||"transparent","fill-opacity":H.backgroundOpacity||1,stroke:C||"transparent","stroke-opacity":H.borderOpacity,"stroke-width":1})}var u=this.renderer.text(v,p,n,B.width,B.height,g,{"class":H["class"],opacity:H.opacity||1},false,"center","center");if(this._isVML){this.renderer.removeElement(u);this.renderer.getContainer()[0].appendChild(u)}if(d){this.renderer.endGroup()}return d||u},_getAnimProps:function(j,f){var e=this.seriesGroups[j];var c=!isNaN(f)?e.series[f]:undefined;var b=this.enableAnimations==true;if(e.enableAnimations){b=e.enableAnimations==true}if(c&&c.enableAnimations){b=c.enableAnimations==true}var i=this.animationDuration;if(isNaN(i)){i=1000}var d=e.animationDuration;if(!isNaN(d)){i=d}if(c){var h=c.animationDuration;if(!isNaN(h)){i=h}}if(i>5000){i=1000}return{enabled:b,duration:i}},_isColorTransition:function(f,d,e,g){if(g-1<e.xoffsets.first){return false}var b=this._getColors(f,d,g,this._getGroupGradientType(f));var c=this._getColors(f,d,g-1,this._getGroupGradientType(f));return(b.fillColor!=c.fillColor)},_renderLineSeries:function(j,O){var F=this.seriesGroups[j];if(!F.series||F.series.length==0){return}var r=F.type.indexOf("area")!=-1;var I=F.type.indexOf("stacked")!=-1;var d=I&&F.type.indexOf("100")!=-1;var ac=F.type.indexOf("spline")!=-1;var s=F.type.indexOf("step")!=-1;var M=F.type.indexOf("range")!=-1;var ad=F.polar==true||F.spider==true;if(ad){s=false}if(s&&ac){return}var y=this._getDataLen(j);var aa=O.width/y;var ah=F.orientation=="horizontal";var A=this._getXAxis(j).flip==true;var w=O;if(ah){w={x:O.y,y:O.x,width:O.height,height:O.width}}var B=this._calcGroupOffsets(j,w);if(!B||B.xoffsets.length==0){return}if(!this._linesRenderInfo){this._linesRenderInfo={}}this._linesRenderInfo[j]={};for(var m=F.series.length-1;m>=0;m--){var f=this._getSerieSettings(j,m);var af={groupIndex:j,serieIndex:m,swapXY:ah,isArea:r,isSpline:ac,isRange:M,isPolar:ad,settings:f,segments:[],pointsLength:0};var h=this._isSerieVisible(j,m);if(!h){this._linesRenderInfo[j][m]=af;continue}var H=F.series[m];if(H.customDraw){continue}var v=a.isFunction(H.colorFunction);var S=B.xoffsets.first;var E=S;var L=this._getColors(j,m,NaN,this._getGroupGradientType(j));var Z=false;var t;do{var U=[];var R=[];var q=[];var N=-1;var o=0,n=0;var P=NaN;var C=NaN;var ag=NaN;if(B.xoffsets.length<1){continue}var Q=this._getAnimProps(j,m);var J=Q.enabled&&!this._isToggleRefresh&&B.xoffsets.length<10000&&this._isVML!=true?Q.duration:0;var u=S;t=false;var c=this._getColors(j,m,S,this._getGroupGradientType(j));for(var ab=S;ab<=B.xoffsets.last;ab++){S=ab;var V=B.xoffsets.data[ab];var T=B.xoffsets.xvalues[ab];if(isNaN(V)){continue}V=Math.max(V,1);o=V;n=B.offsets[m][ab].to;var Y=B.offsets[m][ab].from;if(isNaN(n)||isNaN(Y)){if(H.emptyPointsDisplay=="connect"){continue}else{if(H.emptyPointsDisplay=="zero"){if(isNaN(n)){n=B.baseOffset}if(isNaN(Y)){Y=B.baseOffset}}else{t=true;break}}}if(v&&this._isColorTransition(j,m,B,S)){if(U.length>1){S--;break}}if(this._elementRenderInfo&&this._elementRenderInfo.length>j&&this._elementRenderInfo[j].series.length>m){var e=this._elementRenderInfo[j].series[m][T];var ag=a.jqx._ptrnd(e?e.to:undefined);var G=a.jqx._ptrnd(w.x+(e?e.xoffset:undefined));q.push(ah?{y:G,x:ag,index:ab}:{x:G,y:ag,index:ab})}E=ab;if(f.stroke<2){if(n-w.y<=1){n=w.y+1}if(Y-w.y<=1){Y=w.y+1}if(w.y+w.height-n<=1){n=w.y+w.height-1}if(w.y+w.height-n<=1){Y=w.y+w.height-1}}if(!r&&d){if(n<=w.y){n=w.y+1}if(n>=w.y+w.height){n=w.y+w.height-1}if(Y<=w.y){Y=w.y+1}if(Y>=w.y+w.height){Y=w.y+w.height-1}}V=Math.max(V,1);o=V+w.x;if(F.skipOverlappingPoints===true&&!isNaN(P)&&Math.abs(P-o)<=1){continue}if(s&&!isNaN(P)&&!isNaN(C)){if(C!=n){U.push(ah?{y:o,x:a.jqx._ptrnd(C)}:{x:o,y:a.jqx._ptrnd(C)})}}U.push(ah?{y:o,x:a.jqx._ptrnd(n),index:ab}:{x:o,y:a.jqx._ptrnd(n),index:ab});R.push(ah?{y:o,x:a.jqx._ptrnd(Y),index:ab}:{x:o,y:a.jqx._ptrnd(Y),index:ab});P=o;C=n;if(isNaN(ag)){ag=n}}if(U.length==0){S++;continue}var D=U[U.length-1].index;if(v){L=this._getColors(j,m,D,this._getGroupGradientType(j))}var k=w.x+B.xoffsets.data[u];var X=w.x+B.xoffsets.data[E];if(r&&F.alignEndPointsWithIntervals==true){var z=A?-1:1;if(k>w.x){k=w.x}if(X<w.x+w.width){X=w.x+w.width}if(A){var W=k;k=X;X=W}}X=a.jqx._ptrnd(X);k=a.jqx._ptrnd(k);var l=B.baseOffset;ag=a.jqx._ptrnd(ag);var g=a.jqx._ptrnd(n)||l;if(M){U=U.concat(R.reverse())}af.pointsLength+=U.length;var b={lastItemIndex:D,colorSettings:L,pointsArray:U,pointsStart:q,left:k,right:X,pyStart:ag,pyEnd:g,yBase:l,labelElements:[],symbolElements:[]};af.segments.push(b)}while(S<B.xoffsets.length-1||t);this._linesRenderInfo[j][m]=af}var K=this._linesRenderInfo[j];var ae=[];for(var ab in K){ae.push(K[ab])}ae=ae.sort(function(x,i){return x.serieIndex-i.serieIndex});if(r&&I){ae.reverse()}for(var ab=0;ab<ae.length;ab++){var af=ae[ab];this._animateLine(af,J==0?1:0);var p=this;this._enqueueAnimation("series",undefined,undefined,J,function(x,i,ai){p._animateLine(i,ai)},af)}},_animateLine:function(v,b){var z=v.settings;var f=v.groupIndex;var g=v.serieIndex;var j=this.seriesGroups[f];var r=j.series[g];var u=this._getSymbol(f,g);var o=this._getLabelsSettings(f,g,NaN,["Visible"]).visible;var p=0;for(var d=0;d<v.segments.length;d++){var t=v.segments[d];var w=this._calculateLine(f,v.pointsLength,p,t.pointsArray,t.pointsStart,t.yBase,b,v.isArea,v.swapXY);p+=t.pointsArray.length;if(w==""){continue}var q=w.split(" ");var x=q.length;var h=w;if(h!=""){h=this._buildLineCmd(w,v.isRange,t.left,t.right,t.pyStart,t.pyEnd,t.yBase,v.isArea,v.isPolar,v.isSpline,v.swapXY)}else{h="M 0 0"}var l=t.colorSettings;if(!t.pathElement){t.pathElement=this.renderer.path(h,{"stroke-width":z.stroke,stroke:l.lineColor,"stroke-opacity":z.opacity,"fill-opacity":z.opacity,"stroke-dasharray":z.dashStyle,fill:v.isArea?l.fillColor:"none"});this._installHandlers(t.pathElement,"path",f,g,t.lastItemIndex)}else{this.renderer.attr(t.pathElement,{d:h})}if(t.labelElements){for(var y=0;y<t.labelElements.length;y++){this.renderer.removeElement(t.labelElements[y])}t.labelElements=[]}if(t.symbolElements){for(var y=0;y<t.symbolElements.length;y++){this.renderer.removeElement(t.symbolElements[y])}t.symbolElements=[]}if(t.pointsArray.length==q.length){if(u!="none"||o){var A=r.symbolSize;for(var y=0;y<q.length;y++){var s=q[y].split(",");s={x:parseFloat(s[0]),y:parseFloat(s[1])};if(u!="none"){var n=this._getColors(f,g,t.pointsArray[y].index,this._getGroupGradientType(f));var e=this._drawSymbol(u,s.x,s.y,n.fillColorSymbol,z.opacity,n.lineColorSymbol,z.opacity,1,undefined,A);t.symbolElements.push(e)}if(o){var k=(y>0?q[y-1]:q[y]).split(",");k={x:parseFloat(k[0]),y:parseFloat(k[1])};var m=(y<q.length-1?q[y+1]:q[y]).split(",");m={x:parseFloat(m[0]),y:parseFloat(m[1])};s=this._adjustLineLabelPosition(f,g,t.pointsArray[y].index,s,k,m);if(s){var c=this._showLabel(f,g,t.pointsArray[y].index,{x:s.x,y:s.y,width:0,height:0});t.labelElements.push(c)}}}}}if(b==1&&u!="none"){for(var y=0;y<t.symbolElements.length;y++){if(isNaN(t.pointsArray[y].index)){continue}this._installHandlers(t.symbolElements[y],"symbol",f,g,t.pointsArray[y].index)}}}},_adjustLineLabelPosition:function(i,g,d,h,f,e){var b=this._showLabel(i,g,d,{width:0,height:0},"","",true);if(!b){return}var c={x:h.x-b.width/2,y:0};c.y=h.y-1.5*b.height;return c},_calculateLine:function(h,v,p,o,n,f,e,z,c){var w=this.seriesGroups[h];var m;if(w.polar==true||w.spider==true){m=this._getPolarAxisCoords(h,this._plotRect)}var s="";var t=o.length;if(!z&&n.length==0){var r=v*e;t=r-p}var j=NaN;for(var u=0;u<t+1&&u<o.length;u++){if(u>0){s+=" "}var k=o[u].y;var l=o[u].x;var b=!z?k:f;var d=l;if(n&&n.length>u){b=n[u].y;d=n[u].x;if(isNaN(b)||isNaN(d)){b=k;d=l}}j=d;if(t<=o.length&&u>0&&u==t){d=o[u-1].x;b=o[u-1].y}if(c){l=a.jqx._ptrnd((l-b)*(z?e:1)+b);k=a.jqx._ptrnd(k)}else{l=a.jqx._ptrnd((l-d)*e+d);k=a.jqx._ptrnd((k-b)*e+b)}if(m){var q=this._toPolarCoord(m,this._plotRect,l,k);l=q.x;k=q.y}s+=l+","+k}return s},_buildLineCmd:function(k,i,f,p,n,b,q,m,r,d,j){var e=k;var c=j?q+","+f:f+","+q;var h=j?q+","+p:p+","+q;if(m&&!r&&!i){e=c+" "+k+" "+h}if(d){e=this._getBezierPoints(e)}var l=e.split(" ");if(l.length==0){return""}if(l.length==1){var o=l[0].split(",");return"M "+l[0]+" L"+(parseFloat(o[0])+1)+","+(parseFloat(o[1])+1)}var g=l[0].replace("M","");if(m&&!r){if(!i){e="M "+c+" L "+g+" "+e}else{e="M "+g+" L "+g+(d?"":(" L "+g+" "))+e}}else{if(!d){e="M "+g+" L "+g+" "+e}}if(r){e+=" Z"}return e},_getSerieSettings:function(h,b){var g=this.seriesGroups[h];var f=g.type.indexOf("area")!=-1;var e=g.type.indexOf("line")!=-1;var c=g.series[b];var j=c.dashStyle||g.dashStyle||"";var d=c.opacity||g.opacity;if(isNaN(d)||d<0||d>1){d=1}var i=c.lineWidth;if(isNaN(i)&&i!="auto"){i=g.lineWidth}if(i=="auto"||isNaN(i)||i<0||i>15){if(f){i=2}else{if(e){i=3}else{i=1}}}return{stroke:i,opacity:d,dashStyle:j}},_getColors:function(u,p,d,e,b){var k=this.seriesGroups[u];var o=k.series[p];var c=this._get([o.useGradientColors,k.useGradientColors,k.useGradient,true]);var l=this._getSeriesColors(u,p,d);if(!l.fillColor){l.fillColor=r;l.fillColorSelected=a.jqx.adjustColor(r,1.1);l.fillColorAlt=a.jqx.adjustColor(r,4);l.fillColorAltSelected=a.jqx.adjustColor(r,3);l.lineColor=l.symbolColor=a.jqx.adjustColor(r,0.9);l.lineColorSelected=l.symbolColorSelected=a.jqx.adjustColor(r,0.9)}var h=[[0,1.4],[100,1]];var f=[[0,1],[25,1.1],[50,1.4],[100,1]];var n=[[0,1.3],[90,1.2],[100,1]];var j=NaN;if(!isNaN(b)){j=b==2?h:f}if(c){var q={};for(var s in l){q[s]=l[s]}l=q;if(e=="verticalLinearGradient"||e=="horizontalLinearGradient"){var g=e=="verticalLinearGradient"?j||h:j||f;var m=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var v in m){var r=l[m[v]];if(r){l[m[v]]=this.renderer._toLinearGradient(r,e=="verticalLinearGradient",g)}}}else{if(e=="radialGradient"){var t;var j=h;if((k.type=="pie"||k.type=="donut"||k.polar)&&d!=undefined&&this._renderData[u]&&this._renderData[u].offsets[p]){t=this._renderData[u].offsets[p][d];j=n}l.fillColor=this.renderer._toRadialGradient(l.fillColor,j,t);l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,j,t)}}}return l},_installHandlers:function(c,f,i,h,d){if(!this.enableEvents){return false}var j=this;var e=this.seriesGroups[i];var k=this.seriesGroups[i].series[h];var b=e.type.indexOf("line")!=-1||e.type.indexOf("area")!=-1;if(!b){this.renderer.addHandler(c,"mousemove",function(m){var l=j._selected;if(l&&l.isLineType&&l.linesUnselectMode=="click"&&!(l.group==i&&l.series==h)){return}m.preventDefault();var g=m.pageX||m.clientX||m.screenX;var o=m.pageY||m.clientY||m.screenY;var n=j.host.offset();g-=n.left;o-=n.top;if(j._mouseX==g&&j._mouseY==o){return}if(j._ttEl){if(j._ttEl.gidx==i&&j._ttEl.sidx==h&&j._ttEl.iidx==d){return}}j._startTooltipTimer(i,h,d)});this.renderer.addHandler(c,"mouseout",function(l){if(!isNaN(j._lastClickTs)&&(new Date()).valueOf()-j._lastClickTs<100){return}l.preventDefault();if(d!=undefined){j._cancelTooltipTimer()}if(b){return}var g=j._selected;if(g&&g.isLineType&&g.linesUnselectMode=="click"&&!(g.group==i&&g.series==h)){return}j._unselect()})}this.renderer.addHandler(c,"mouseover",function(l){l.preventDefault();var g=j._selected;if(g&&g.isLineType&&g.linesUnselectMode=="click"&&!(g.group==i&&g.series==h)){return}j._select(c,f,i,h,d,d)});this.renderer.addHandler(c,"click",function(g){clearTimeout(j._hostClickTimer);j._lastClickTs=(new Date()).valueOf();if(b&&(f!="symbol"&&f!="pointMarker")){return}if(j._isColumnType(e.type)){j._unselect()}if(isNaN(d)){return}j._raiseItemEvent("click",e,k,d)})},_getHorizontalOffset:function(A,s,k,j){var c=this._plotRect;var h=this._getDataLen(A);if(h==0){return{index:undefined,value:k}}var p=this._calcGroupOffsets(A,this._plotRect);if(p.xoffsets.length==0){return{index:undefined,value:undefined}}var n=k;var m=j;var w=this.seriesGroups[A];var l;if(w.polar||w.spider){l=this._getPolarAxisCoords(A,c)}var e=this._getXAxis(A).flip==true;var b,o,v,f;for(var t=p.xoffsets.first;t<=p.xoffsets.last;t++){var u=p.xoffsets.data[t];var d=p.offsets[s][t].to;var q=0;if(l){var r=this._toPolarCoord(l,c,u+c.x,d);u=r.x;d=r.y;q=a.jqx._ptdist(n,m,u,d)}else{if(w.orientation=="horizontal"){u+=c.y;var z=d;d=u;u=z;q=a.jqx._ptdist(n,m,u,d)}else{u+=c.x;q=Math.abs(n-u)}}if(isNaN(b)||b>q){b=q;o=t;v=u;f=d}}return{index:o,value:p.xoffsets.data[o],polarAxisCoords:l,x:v,y:f}},onmousemove:function(l,k){if(this._mouseX==l&&this._mouseY==k){return}this._mouseX=l;this._mouseY=k;if(!this._selected){return}var B=this._selected.group;var r=this._selected.series;var w=this.seriesGroups[B];var o=w.series[r];var b=this._plotRect;if(this.renderer){b=this.renderer.getRect();b.x+=5;b.y+=5;b.width-=10;b.height-=10}if(l<b.x||l>b.x+b.width||k<b.y||k>b.y+b.height){this._hideToolTip();this._unselect();return}var e=w.orientation=="horizontal";var b=this._plotRect;if(w.type.indexOf("line")!=-1||w.type.indexOf("area")!=-1){var h=this._getHorizontalOffset(B,this._selected.series,l,k);var v=h.index;if(v==undefined){return}if(this._selected.item!=v){var q=this._linesRenderInfo[B][r].segments;var t=0;while(v>q[t].lastItemIndex){t++;if(t>=q.length){return}}var c=q[t].pathElement;var C=q[t].lastItemIndex;this._unselect(false);this._select(c,"path",B,r,v,C)}var n=this._getSymbol(this._selected.group,this._selected.series);if(n=="none"){n="circle"}var p=this._calcGroupOffsets(B,b);var d=p.offsets[this._selected.series][v].to;var u=d;if(w.type.indexOf("range")!=-1){u=p.offsets[this._selected.series][v].from}var m=e?l:k;if(!isNaN(u)&&Math.abs(m-u)<Math.abs(m-d)){k=u}else{k=d}if(isNaN(k)){return}l=h.value;if(e){var z=l;l=k;k=z+b.y}else{l+=b.x}if(h.polarAxisCoords){l=h.x;k=h.y}k=a.jqx._ptrnd(k);l=a.jqx._ptrnd(l);if(this._pointMarker&&this._pointMarker.element){this.renderer.removeElement(this._pointMarker.element);this._pointMarker.element=undefined}if(isNaN(l)||isNaN(k)){return}var j=this._getSeriesColors(B,r,v);var f=o.opacity;if(isNaN(f)||f<0||f>1){f=w.opacity}if(isNaN(f)||f<0||f>1){f=1}var A=o.symbolSizeSelected;if(isNaN(A)){A=o.symbolSize}if(isNaN(A)||A>50||A<0){A=w.symbolSize}if(isNaN(A)||A>50||A<0){A=6}if(this.showToolTips||this.enableCrosshairs){this._pointMarker={type:n,x:l,y:k,gidx:B,sidx:r,iidx:v};this._pointMarker.element=this._drawSymbol(n,l,k,j.fillColorSymbolSelected,f,j.lineColorSymbolSelected,f,1,undefined,A);this._installHandlers(this._pointMarker.element,"pointMarker",B,r,v)}this._startTooltipTimer(B,this._selected.series,v)}},_drawSymbol:function(i,l,j,c,m,k,f,g,b,o){var e;var h=o||6;var d=h/2;switch(i){case"none":return undefined;case"circle":e=this.renderer.circle(l,j,h/2);break;case"square":h=h-1;d=h/2;e=this.renderer.rect(l-d,j-d,h,h);break;case"diamond":var n="M "+(l-d)+","+(j)+" L"+(l)+","+(j-d)+" L"+(l+d)+","+(j)+" L"+(l)+","+(j+d)+" Z";e=this.renderer.path(n);break;case"triangle_up":case"triangle":var n="M "+(l-d)+","+(j+d)+" L "+(l+d)+","+(j+d)+" L "+(l)+","+(j-d)+" Z";e=this.renderer.path(n);break;case"triangle_down":var n="M "+(l-d)+","+(j-d)+" L "+(l)+","+(j+d)+" L "+(l+d)+","+(j-d)+" Z";e=this.renderer.path(n);break;case"triangle_left":var n="M "+(l-d)+","+(j)+" L "+(l+d)+","+(j+d)+" L "+(l+d)+","+(j-d)+" Z";e=this.renderer.path(n);break;case"triangle_right":var n="M "+(l-d)+","+(j-d)+" L "+(l-d)+","+(j+d)+" L "+(l+d)+","+(j)+" Z";e=this.renderer.path(n);break;default:e=this.renderer.circle(l,j,h)}this.renderer.attr(e,{fill:c,"fill-opacity":m,stroke:k,"stroke-width":g,"stroke-opacity":f,"stroke-dasharray":b||""});return e},_getSymbol:function(f,b){var c=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"];var e=this.seriesGroups[f];var d=e.series[b];var h;if(d.symbolType!=undefined){h=d.symbolType}if(h==undefined){h=e.symbolType}if(h=="default"){return c[b%c.length]}else{if(h!=undefined){return h}}return"none"},_startTooltipTimer:function(k,j,d,i,h,b,f){this._cancelTooltipTimer();var l=this;var e=l.seriesGroups[k];var c=this.toolTipShowDelay||this.toolTipDelay;if(isNaN(c)||c>10000||c<0){c=500}if(this._ttEl||(true==this.enableCrosshairs&&false==this.showToolTips)){c=0}if(!isNaN(b)){c=b}clearTimeout(this._tttimerHide);if(isNaN(i)){i=l._mouseX}if(isNaN(h)){h=l._mouseY-3}if(c==0){l._showToolTip(i,h,k,j,d)}this._tttimer=setTimeout(function(){if(c!=0){l._showToolTip(i,h,k,j,d)}var g=l.toolTipHideDelay;if(!isNaN(f)){g=f}if(isNaN(g)){g=4000}l._tttimerHide=setTimeout(function(){l._hideToolTip();l._unselect()},g)},c)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(c){var b=this.seriesGroups[c];if(b.type.indexOf("area")!=-1){return b.orientation=="horizontal"?"horizontalLinearGradient":"verticalLinearGradient"}else{if(this._isColumnType(b.type)||b.type.indexOf("candle")!=-1){if(b.polar){return"radialGradient"}return b.orientation=="horizontal"?"verticalLinearGradient":"horizontalLinearGradient"}else{if(b.type.indexOf("scatter")!=-1||b.type.indexOf("bubble")!=-1||this._isPieGroup(c)){return"radialGradient"}}}return undefined},_select:function(h,l,o,n,i,m){if(this._selected){if((this._selected.item!=i||this._selected.series!=n||this._selected.group!=o)){this._unselect()}else{return}}var k=this.seriesGroups[o];var p=k.series[n];if(k.enableSelection==false||p.enableSelection==false){return}var f=k.type.indexOf("line")!=-1&&k.type.indexOf("area")==-1;this._selected={element:h,type:l,group:o,series:n,item:i,iidxBase:m,isLineType:f,linesUnselectMode:p.linesUnselectMode||k.linesUnselectMode};var b=this._getColors(o,n,m||i,this._getGroupGradientType(o));var c=b.fillColorSelected;if(f){c="none"}var e=this._getSerieSettings(o,n);var d=(l=="symbol")?b.lineColorSymbolSelected:b.lineColorSelected;c=(l=="symbol")?b.fillColorSymbolSelected:c;var j=(l=="symbol")?1:e.stroke;if(this.renderer.getAttr(h,"fill")==b.fillColorAlt){c=b.fillColorAltSelected}this.renderer.attr(h,{stroke:d,fill:c,"stroke-width":j});this._raiseItemEvent("mouseover",k,p,i)},_unselect:function(){var o=this;if(o._selected){var n=o._selected.group;var m=o._selected.series;var f=o._selected.item;var k=o._selected.iidxBase;var j=o._selected.type;var i=o.seriesGroups[n];var p=i.series[m];var e=i.type.indexOf("line")!=-1&&i.type.indexOf("area")==-1;var b=o._getColors(n,m,k||f,o._getGroupGradientType(n));var c=b.fillColor;if(e){c="none"}var d=o._getSerieSettings(n,m);var l=(j=="symbol")?b.lineColorSymbol:b.lineColor;c=(j=="symbol")?b.fillColorSymbol:c;if(this.renderer.getAttr(o._selected.element,"fill")==b.fillColorAltSelected){c=b.fillColorAlt}var h=(j=="symbol")?1:d.stroke;this.renderer.attr(o._selected.element,{stroke:l,fill:c,"stroke-width":h});o._selected=undefined;if(!isNaN(f)){o._raiseItemEvent("mouseout",i,p,f)}}if(o._pointMarker){if(o._pointMarker.element){o.renderer.removeElement(o._pointMarker.element);o._pointMarker.element=undefined}o._pointMarker=undefined;o._hideCrosshairs()}},_raiseItemEvent:function(f,g,e,c){var d=e[f]||g[f];var h=0;for(;h<this.seriesGroups.length;h++){if(this.seriesGroups[h]==g){break}}if(h==this.seriesGroups.length){return}var b={event:f,seriesGroup:g,serie:e,elementIndex:c,elementValue:this._getDataValue(c,e.dataField,h)};if(d&&a.isFunction(d)){d(b)}this._raiseEvent(f,b)},_raiseEvent:function(d,c){var e=new a.Event(d);e.owner=this;c.event=d;e.args=c;var b=this.host.trigger(e);return b},_calcInterval:function(d,j,h){var m=Math.abs(j-d);var k=m/h;var f=[1,2,3,4,5,10,15,20,25,50,100];var b=[0.5,0.25,0.125,0.1];var c=0.1;var g=f;if(k<1){g=b;c=10}var l=0;do{l=0;if(k>=1){c*=10}else{c/=10}for(var e=1;e<g.length;e++){if(Math.abs(g[l]*c-k)>Math.abs(g[e]*c-k)){l=e}else{break}}}while(l==g.length-1);return g[l]*c},_renderDataClone:function(){if(!this._renderData||this._isToggleRefresh){return}var d=this._elementRenderInfo=[];if(this._isSelectorRefresh){return}for(var h=0;h<this._renderData.length;h++){var c=this._getXAxis(h).dataField;while(d.length<=h){d.push({})}var b=d[h];var f=this._renderData[h];if(!f.offsets){continue}if(f.valueAxis){b.valueAxis={itemOffsets:{}};for(var j in f.valueAxis.itemOffsets){b.valueAxis.itemOffsets[j]=f.valueAxis.itemOffsets[j]}}if(f.xAxis){b.xAxis={itemOffsets:{}};for(var j in f.xAxis.itemOffsets){b.xAxis.itemOffsets[j]=f.xAxis.itemOffsets[j]}}b.series=[];var g=b.series;var l=this._isPieGroup(h);for(var m=0;m<f.offsets.length;m++){g.push({});for(var e=0;e<f.offsets[m].length;e++){if(!l){g[m][f.xoffsets.xvalues[e]]={value:f.offsets[m][e].value,valueRadius:f.offsets[m][e].valueRadius,xoffset:f.xoffsets.data[e],from:f.offsets[m][e].from,to:f.offsets[m][e].to}}else{var k=f.offsets[m][e];g[m][k.displayValue]={value:k.value,x:k.x,y:k.y,fromAngle:k.fromAngle,toAngle:k.toAngle}}}}}},getPolarDataPointOffset:function(d,c,f){var e=this._renderData[f];if(!e){return{x:NaN,y:NaN}}var h=this.getValueAxisDataPointOffset(c,f);var b=this.getXAxisDataPointOffset(d,f);var g=this._toPolarCoord(e.polarCoords,e.xAxis.rect,b,h);return{x:g.x,y:g.y}},_getDataPointOffsetDiff:function(j,i,b,f,g,d,h){var e=this._getDataPointOffset(j,b,f,g,d,h);var c=this._getDataPointOffset(i,b,f,g,d,h);return Math.abs(e-c)},_getXAxisRenderData:function(d){if(d>=this._renderData.length){return}var e=this.seriesGroups[d];var c=this._renderData[d].xAxis;if(!c){return}if(e.xAxis==undefined){for(var b=0;b<=d;b++){if(this.seriesGroups[b].xAxis==undefined){break}}c=this._renderData[b].xAxis}return c},getXAxisDataPointOffset:function(j,l){var k=this.seriesGroups[l];if(isNaN(j)){return NaN}renderData=this._getXAxisRenderData(l);if(!renderData){return NaN}var f=renderData.data.axisStats;var i=f.min.valueOf();var b=f.max.valueOf();var g=b-i;if(g==0){g=1}if(j.valueOf()>b||j.valueOf()<i){return NaN}var c=this._getXAxis(l);var d=k.orientation=="horizontal"?"height":"width";var n=k.orientation=="horizontal"?"y":"x";var h=(j.valueOf()-i)/g;var m=renderData.rect[d]-renderData.data.padding.left-renderData.data.padding.right;if(k.polar||k.spider){var e=this._renderData[l].polarCoords;if(e.isClosedCircle){m=renderData.data.axisSize}}return this._plotRect[n]+renderData.data.padding.left+m*(c.flip?(1-h):h)},getValueAxisDataPointOffset:function(g,h){var j=this._getValueAxis(h);if(!j){return NaN}var i=this._renderData[h];if(!i){return NaN}var f=j.flip==true;var d=i.logBase;var e=i.scale;var b=i.gbase;var c=i.baseOffset;return this._getDataPointOffset(g,b,d,e,c,f)},_getDataPointOffset:function(f,c,d,h,e,b){var g;if(isNaN(f)){f=c}if(!isNaN(d)){g=(a.jqx.log(f,d)-a.jqx.log(c,d))*h}else{g=(f-c)*h}if(this._isVML){g=Math.round(g)}if(b){g=e+g}else{g=e-g}return g},_calcGroupOffsets:function(l,K){var x=this.seriesGroups[l];while(this._renderData.length<l+1){this._renderData.push({})}if(this._renderData[l]!=null&&this._renderData[l].offsets!=undefined){return this._renderData[l]}if(this._isPieGroup(l)){return this._calcPieSeriesGroupOffsets(l,K)}var o=this._getValueAxis(l);if(!o||!x.series||x.series.length==0){return this._renderData[l]}var z=o.flip==true;var N=o.logarithmicScale==true;var M=o.logarithmicScaleBase||10;var S=[];var E=x.type.indexOf("stacked")!=-1;var d=E&&x.type.indexOf("100")!=-1;var J=x.type.indexOf("range")!=-1;var T=this._isColumnType(x.type);var Y=x.type.indexOf("waterfall")!=-1;var s=this._getDataLen(l);var r=x.baselineValue||o.baselineValue||0;if(d){r=0}var af=this._stats.seriesGroups[l];if(!af||!af.isValid){return}var ai=af.hasStackValueReversal;if(ai){r=0}if(Y&&E){if(ai){return}else{r=af.base}}if(r>af.max){r=af.max}if(r<af.min){r=af.min}var q=(d||N)?af.maxRange:af.max-af.min;var am=af.min;var B=af.max;var L=K.height/(N?af.intervals:q);var ah=0;if(d){if(am*B<0){q/=2;ah=-(q+r)*L}else{ah=-r*L}}else{ah=-(r-am)*L}if(z){ah=K.y-ah}else{ah+=K.y+K.height}var ag=[];var ac=[];var R=[];var ak,G;if(N){ak=a.jqx.log(B,M)-a.jqx.log(r,M);if(E){ak=af.intervals;r=d?0:am}G=af.intervals-ak;if(!z){ah=K.y+ak/af.intervals*K.height}}ah=a.jqx._ptrnd(ah);var c=(am*B<0)?K.height/2:K.height;var m=[];var V=[];var an=E&&(T||N);var al=[];for(var ab=0;ab<s;ab++){if(!Y){V=[]}for(var aa=0;aa<x.series.length;aa++){if(!E&&N){m=[]}var C=x.series[aa];var D=C.dataField;var ap=C.dataFieldFrom;var O=C.dataFieldTo;var X=C.radiusDataField||C.sizeDataField;while(S.length<=aa){S.push([])}while(S[aa].length<=ab){S[aa].push({})}var g=this._isSerieVisible(l,aa);if(x.type.indexOf("candle")!=-1||x.type.indexOf("ohlc")!=-1){var b=["Open","Close","High","Low"];for(var aj in b){var p="dataField"+b[aj];if(C[p]){S[aa][ab][b[aj]]=this._getDataPointOffset(this._getDataValueAsNumber(ab,C[p],l),r,N?M:NaN,L,ah,z)}}continue}while(V.length<=ab){V.push(0)}var ao=NaN;if(J){ao=this._getDataValueAsNumber(ab,ap,l);if(isNaN(ao)){ao=r}}var I=NaN;if(J){I=this._getDataValueAsNumber(ab,O,l)}else{I=this._getDataValueAsNumber(ab,D,l)}var e=this._getDataValueAsNumber(ab,X,l);if(E){V[ab]+=g?I:0}if(!g){I=NaN}if(isNaN(I)||(N&&I<=0)){S[aa][ab]={from:undefined,to:undefined};continue}var H;if(E){if(an){H=(I>=r)?ag:ac}else{I=V[ab]}}var ae=L*(I-r);if(J){ae=L*(I-ao)}if(E&&an){if(!al[ab]){al[ab]=true;ae=L*(I-r)}else{ae=L*I}}if(N){while(m.length<=ab){m.push({p:{value:0,height:0},n:{value:0,height:0}})}var A=(J||J)?ao:r;var Z=I>A?m[ab].p:m[ab].n;Z.value+=I;if(d){I=Z.value/(af.psums[ab]+af.nsums[ab])*100;ae=(a.jqx.log(I,M)-af.minPow)*L}else{ae=a.jqx.log(Z.value,M)-a.jqx.log(A,M);ae*=L}ae-=Z.height;Z.height+=ae}var Q=ah;if(J){var t=0;if(N){t=(a.jqx.log(ao,M)-a.jqx.log(r,M))*L}else{t=(ao-r)*L}Q+=z?t:-t}if(E){if(d&&!N){var w=(af.psums[ab]-af.nsums[ab]);if(I>r){ae=(af.psums[ab]/w)*c;if(af.psums[ab]!=0){ae*=I/af.psums[ab]}}else{ae=(af.nsums[ab]/w)*c;if(af.nsums[ab]!=0){ae*=I/af.nsums[ab]}}}if(an){if(isNaN(H[ab])){H[ab]=Q}Q=H[ab]}}if(isNaN(R[ab])){R[ab]=0}var ad=R[ab];ae=Math.abs(ae);var U=ae;h_new=this._isVML?Math.round(ae):a.jqx._ptrnd(ae)-1;if(Math.abs(ae-h_new)>0.5){ae=Math.round(ae)}else{ae=h_new}ad+=ae-U;if(!E){ad=0}if(Math.abs(ad)>0.5){if(ad>0){ae-=1;ad-=1}else{ae+=1;ad+=1}}R[ab]=ad;if(aa==x.series.length-1&&d){var v=0;for(var W=0;W<aa;W++){v+=Math.abs(S[W][ab].to-S[W][ab].from)}v+=ae;if(v<c){if(ae>0.5){ae=a.jqx._ptrnd(ae+c-v)}else{var W=aa-1;while(W>=0){var F=Math.abs(S[W][ab].to-S[W][ab].from);if(F>1){if(S[W][ab].from>S[W][ab].to){S[W][ab].from+=c-v}break}W--}}}}if(z){ae*=-1}var P=I<r;if(J){P=ao>I}var n=isNaN(ao)?I:{from:ao,to:I};if(P){if(an){H[ab]+=ae}S[aa][ab]={from:Q,to:Q+ae,value:n,valueRadius:e}}else{if(an){H[ab]-=ae}S[aa][ab]={from:Q,to:Q-ae,value:n,valueRadius:e}}}}var u=this._renderData[l];u.baseOffset=ah;u.gbase=r;u.logBase=N?M:NaN;u.scale=L;u.offsets=!Y?S:this._applyWaterfall(S,s,l,ah,r,N?M:NaN,L,z,E);u.xoffsets=this._calculateXOffsets(l,K.width);return this._renderData[l]},_calcPieSeriesGroupOffsets:function(d,b){var l=this._getDataLen(d);var m=this.seriesGroups[d];var v=this._renderData[d]={};var D=v.offsets=[];for(var z=0;z<m.series.length;z++){var r=m.series[z];var B=this._get([r.minAngle,r.startAngle]);if(isNaN(B)||B<0||B>360){B=0}var J=this._get([r.maxAngle,r.endAngle]);if(isNaN(J)||J<0||J>360){J=360}var e=J-B;var n=r.initialAngle||0;if(n<B){n=B}if(n>J){n=J}var u=n;var f=r.radius||Math.min(b.width,b.height)*0.4;if(isNaN(f)){f=1}var k=r.innerRadius||0;if(isNaN(k)||k>=f){k=0}var c=r.centerOffset||0;var H=a.jqx.getNum([r.offsetX,m.offsetX,b.width/2]);var G=a.jqx.getNum([r.offsetY,m.offsetY,b.height/2]);D.push([]);var g=0;var h=0;for(var C=0;C<l;C++){var I=this._getDataValueAsNumber(C,r.dataField,d);if(isNaN(I)){continue}if(!this._isSerieVisible(d,z,C)&&r.hiddenPointsDisplay!=true){continue}if(I>0){g+=I}else{h+=I}}var q=g-h;if(q==0){q=1}for(var C=0;C<l;C++){var I=this._getDataValueAsNumber(C,r.dataField,d);if(isNaN(I)){D[z].push({});continue}var A=r.displayText||r.displayField;var j=this._getDataValue(C,A,d);if(j==undefined){j=C}var F=0;var w=this._isSerieVisible(d,z,C);if(w||r.hiddenPointsDisplay==true){F=Math.abs(I)/q*e}var p=b.x+H;var o=b.y+G;var E=c;if(a.isFunction(c)){E=c({seriesIndex:z,seriesGroupIndex:d,itemIndex:C})}if(isNaN(E)){E=0}var t={key:d+"_"+z+"_"+C,value:I,displayValue:j,x:p,y:o,fromAngle:u,toAngle:u+F,centerOffset:E,innerRadius:k,outerRadius:f,visible:w};D[z].push(t);u+=F}}return v},_isPointSeriesOnly:function(){for(var b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];if(c.type.indexOf("line")==-1&&c.type.indexOf("area")==-1&&c.type.indexOf("scatter")==-1&&c.type.indexOf("bubble")==-1){return false}}return true},_hasColumnSeries:function(){var d=["column","ohlc","candlestick","waterfall"];for(var c=0;c<this.seriesGroups.length;c++){var e=this.seriesGroups[c];for(var b in d){if(e.type.indexOf(d[b])!=-1){return true}}}return false},_alignValuesWithTicks:function(f){var b=this._isPointSeriesOnly();var c=this.seriesGroups[f];var e=this._getXAxis(f);var d=e.valuesOnTicks==undefined?b:e.valuesOnTicks!=false;if(f==undefined){return d}if(c.valuesOnTicks==undefined){return d}return c.valuesOnTicks},_getYearsDiff:function(c,b){return b.getFullYear()-c.getFullYear()},_getMonthsDiff:function(c,b){return 12*(b.getFullYear()-c.getFullYear())+b.getMonth()-c.getMonth()},_getDateDiff:function(f,e,d,b){var c=0;if(d!="year"&&d!="month"){c=e.valueOf()-f.valueOf()}switch(d){case"year":c=this._getYearsDiff(f,e);break;case"month":c=this._getMonthsDiff(f,e);break;case"day":c/=(24*3600*1000);break;case"hour":c/=(3600*1000);break;case"minute":c/=(60*1000);break;case"second":c/=(1000);break;case"millisecond":break}if(d!="year"&&d!="month"&&b!=false){c=a.jqx._rnd(c,1,true)}return c},_getAsDate:function(b,c){b=this._castAsDate(b);if(c=="month"){return new Date(b.getFullYear(),b.getMonth(),1)}if(c=="year"){return new Date(b.getFullYear(),0,1)}if(c=="day"){return new Date(b.getFullYear(),b.getMonth(),b.getDate())}return b},_getBestDTUnit:function(k,p,q,d,g){var f="day";var m=p.valueOf()-k.valueOf();if(m<1000){f="second"}else{if(m<3600000){f="minute"}else{if(m<86400000){f="hour"}else{if(m<2592000000){f="day"}else{if(m<31104000000){f="month"}else{f="year"}}}}}var o=[{key:"year",cnt:m/(1000*60*60*24*365)},{key:"month",cnt:m/(1000*60*60*24*30)},{key:"day",cnt:m/(1000*60*60*24)},{key:"hour",cnt:m/(1000*60*60)},{key:"minute",cnt:m/(1000*60)},{key:"second",cnt:m/1000},{key:"millisecond",cnt:m}];var l=-1;for(var h=0;h<o.length;h++){if(o[h].key==f){l=h;break}}var b=-1,n=-1;for(;l<o.length;l++){if(o[l].cnt/100>d){break}var c=this._estAxisInterval(k,p,q,d,o[l].key,g);var e=this._getDTIntCnt(k,p,c,o[l].key);if(b==-1||b<e){b=e;n=l}}f=o[n].key;return f},_getXAxisStats:function(f,k,y){var h=this._getDataLen(f);var b=k.type=="date"||k.type=="time";var l=b?this._castAsDate(k.minValue):this._castAsNumber(k.minValue);var n=b?this._castAsDate(k.maxValue):this._castAsNumber(k.maxValue);var t=l,w=n;var e,m;var c=k.type==undefined||k.type=="auto";var g=(c||k.type=="basic");var u=0,d=0;for(var x=0;x<h&&k.dataField;x++){var s=this._getDataValue(x,k.dataField,f);s=b?this._castAsDate(s):this._castAsNumber(s);if(isNaN(s)){continue}if(b){u++}else{d++}if(isNaN(e)||s<e){e=s}if(isNaN(m)||s>=m){m=s}}if(c&&((!b&&d==h)||(b&&u==h))){g=false}if(g){e=0;m=h-1}if(isNaN(t)){t=e}if(isNaN(w)){w=m}if(b){if(!this._isDate(t)){t=this._isDate(w)?w:new Date()}if(!this._isDate(w)){w=this._isDate(t)?t:new Date()}}else{if(isNaN(t)){t=0}if(isNaN(w)){w=g?h-1:t}}if(e==undefined){e=t}if(m==undefined){m=w}var o=k.rangeSelector;if(o){var p=o.minValue||t;if(p&&b){p=this._castAsDate(p)}var r=o.maxValue||w;if(r&&b){r=this._castAsDate(r)}if(t<p){t=p}if(w<p){w=r}if(t>r){t=p}if(w>r){w=r}}var z=k.unitInterval;var q,A;if(b){q=k.baseUnit;if(!q){q=this._getBestDTUnit(t,w,f,y)}A=q=="hour"||q=="minute"||q=="second"||q=="millisecond"}var z=k.unitInterval;if(isNaN(z)||z<=0){z=this._estAxisInterval(t,w,f,y,q)}var v={min:t,max:w};var j=this.seriesGroups[f];if(!b&&(j.polar||j.spider)){t=a.jqx._rnd(t,z,false);w=a.jqx._rnd(w,z,true)}return{min:t,max:w,dsRange:{min:e,max:m},filterRange:v,useIndeces:g,isDateTime:b,isTimeUnit:A,dateTimeUnit:q,interval:z}},_getDefaultDTFormatFn:function(d){var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var c;if(d=="year"||d=="month"||d=="day"){c=function(e){return e.getDate()+"-"+b[e.getMonth()]+"-"+e.getFullYear()}}else{c=function(e){return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}}return c},_getDTIntCnt:function(f,c,d,i){var e=0;var g=new Date(f);var h=new Date(c);if(d<=0){return 1}while(g.valueOf()<h.valueOf()){if(i=="millisecond"){g.setMilliseconds(g.getMilliseconds()+d)}else{if(i=="second"){g.setSeconds(g.getSeconds()+d)}else{if(i=="minute"){g.setMinutes(g.getMinutes()+d)}else{if(i=="hour"){var b=g.valueOf();g.setHours(g.getHours()+d);if(b===g.valueOf()){g.setHours(g.getHours()+d+1)}}else{if(i=="day"){g.setDate(g.getDate()+d)}else{if(i=="month"){g.setMonth(g.getMonth()+d)}else{if(i=="year"){g.setFullYear(g.getFullYear()+d)}}}}}}}e++}return e},_estAxisInterval:function(e,h,m,b,j,c){var d=[1,2,5,10,15,20,50,100,200,500];var g=0;var f=b/((!isNaN(c)&&c>0)?c:50);if(this._renderData&&this._renderData.length>m&&this._renderData[m].xAxis&&!isNaN(this._renderData[m].xAxis.avgWidth)){var o=Math.max(1,this._renderData[m].xAxis.avgWidth);if(o!=0&&isNaN(c)){f=0.9*b/o}}if(f<=1){return Math.max(h-e)}var n=0;while(true){var l=g>=d.length?Math.pow(10,3+g-d.length):d[g];if(this._isDate(e)&&this._isDate(h)){n=this._getDTIntCnt(e,h,l,j)}else{n=(h-e)/l}if(n<=f){break}g++}var k=this.seriesGroups[m];if(k.spider||k.polar){if(2*l>h-e){l=h-e}}return l},_getPaddingSize:function(l,e,f,c,n,g,o){var h=l.min;var j=l.max;var b=l.interval;var d=l.dateTimeUnit;if(n){var k=(c/Math.max(1,j-h+b))*b;if(g){return{left:0,right:k}}else{if(f){return{left:0,right:0}}return{left:k/2,right:k/2}}}if(f&&!o){return{left:0,right:0}}if(this._isDate(h)&&this._isDate(j)){var m=this._getDTIntCnt(h,j,Math.min(b,j-h),d);var i=c/Math.max(2,m);return{left:i/2,right:i/2}}var m=Math.max(1,j-h);if(m==1){sz=c/4;return{left:sz,right:sz}}var i=c/(m+1);return{left:i/2,right:i/2}},_calculateXOffsets:function(e,D){var C=this.seriesGroups[e];var n=this._getXAxis(e);var v=[];var l=[];var m=this._getDataLen(e);var d=this._getXAxisStats(e,n,D);var u=d.min;var A=d.max;var b=d.isDateTime;var E=d.isTimeUnit;var B=this._hasColumnSeries();var c=C.polar||C.spider;var w=this._get([C.startAngle,C.minAngle,0]);var s=this._get([C.endAngle,C.maxAngle,360]);var p=c&&!(Math.abs(Math.abs(s-w)-360)>0.0001);var k=this._alignValuesWithTicks(e);var r=this._getPaddingSize(d,n,k,D,c,p,B);var G=A-u;var z=d.filterRange;if(G==0){G=1}var F=D-r.left-r.right;if(c&&k){r.left=r.right=0}var h=-1,o=-1;for(var y=0;y<m;y++){var t=(n.dataField===undefined)?y:this._getDataValue(y,n.dataField,e);if(d.useIndeces){if(y<z.min||y>z.max){v.push(NaN);l.push(undefined);continue}v.push(a.jqx._ptrnd(r.left+(y-u)/G*F));l.push(t);if(h==-1){h=y}if(o==-1||o<y){o=y}continue}t=b?this._castAsDate(t):this._castAsNumber(t);if(isNaN(t)||t<z.min||t>z.max){v.push(NaN);l.push(undefined);continue}var q=0;if(!b||(b&&E)){diffFromMin=t-u;q=(t-u)*F/G}else{q=(t.valueOf()-u.valueOf())/(A.valueOf()-u.valueOf())*F}q=a.jqx._ptrnd(r.left+q);v.push(q);l.push(t);if(h==-1){h=y}if(o==-1||o<y){o=y}}if(n.flip==true){for(var y=0;y<v.length;y++){if(!isNaN(v[y])){v[y]=D-v[y]}}}if(E||b){G=this._getDateDiff(u,A,n.baseUnit);G=a.jqx._rnd(G,1,false)}var j=Math.max(1,G);var f=F/j;if(h==o&&j==1){v[h]=r.left+F/2}return{axisStats:d,data:v,xvalues:l,first:h,last:o,length:o==-1?0:o-h+1,itemWidth:f,intervalWidth:f*d.interval,rangeLength:G,useIndeces:d.useIndeces,padding:r,axisSize:F}},_getXAxis:function(b){if(b==undefined||this.seriesGroups.length<=b){return this.categoryAxis||this.xAxis}return this.seriesGroups[b].categoryAxis||this.seriesGroups[b].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,b){var d=this.seriesGroups[e];var c=d.series[b];if(c.greyScale==true){return true}else{if(c.greyScale==false){return false}}if(d.greyScale==true){return true}else{if(d.greyScale==false){return false}}return this.greyScale==true},_getSeriesColors:function(f,c,e){var b=this._getSeriesColorsInternal(f,c,e);if(this._isGreyScale(f,c)){for(var d in b){b[d]=a.jqx.toGreyScale(b[d])}}return b},_getColorFromScheme:function(o,l,b){var d="#000000";var n=this.seriesGroups[o];var g=n.series[l];if(this._isPieGroup(o)){var c=this._getDataLen(o);d=this._getItemColorFromScheme(g.colorScheme||n.colorScheme||this.colorScheme,l*c+b,o,l)}else{var m=0;for(var f=0;f<=o;f++){for(var e in this.seriesGroups[f].series){if(f==o&&e==l){break}else{m++}}}var k=this.colorScheme;if(n.colorScheme){k=n.colorScheme;sidex=seriesIndex}if(k==undefined||k==""){k=this.colorSchemes[0].name}if(!k){return d}for(var f=0;f<this.colorSchemes.length;f++){var h=this.colorSchemes[f];if(h.name==k){while(m>h.colors.length){m-=h.colors.length;if(++f>=this.colorSchemes.length){f=0}h=this.colorSchemes[f]}d=h.colors[m%h.colors.length]}}}return d},_createColorsCache:function(){this._colorsCache={get:function(b){if(this._store[b]){return this._store[b]}},set:function(c,b){if(this._size<10000){this._store[c]=b;this._size++}},clear:function(){this._store={};this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(m,d,b){var h=m+"_"+d+"_"+(isNaN(b)?"NaN":b);if(this._colorsCache.get(h)){return this._colorsCache.get(h)}var f=this.seriesGroups[m];var o=f.series[d];var c={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};var i;if(a.isFunction(o.colorFunction)){var j=!isNaN(b)?this._getDataValue(b,o.dataField,m):NaN;if(f.type.indexOf("range")!=-1){var e=this._getDataValue(b,o.dataFieldFrom,m);var l=this._getDataValue(b,o.dataFieldTo,m);j={from:e,to:l}}i=o.colorFunction(j,b,o,f);if(typeof(i)=="object"){for(var k in i){c[k]=i[k]}}else{c.fillColor=i}}else{for(var k in c){if(o[k]){c[k]=o[k]}}if(!o.fillColor&&!o.color){c.fillColor=this._getColorFromScheme(m,d,b)}else{o.fillColor=o.fillColor||o.color}}var n={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:0.9},lineColorSelected:{baseColor:"lineColor",adjust:0.8},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var k in c){if(typeof(i)!="object"||!i[k]){if(o[k]){c[k]=o[k]}else{c[k]=a.jqx.adjustColor(c[n[k].baseColor],n[k].adjust)}}}this._colorsCache.set(h,c);return c},_getItemColorFromScheme:function(d,f,k,h){if(d==undefined||d==""){d=this.colorSchemes[0].name}for(var g=0;g<this.colorSchemes.length;g++){if(d==this.colorSchemes[g].name){break}}var e=0;while(e<=f){if(g==this.colorSchemes.length){g=0}var b=this.colorSchemes[g].colors.length;if(e+b<=f){e+=b;g++}else{var c=this.colorSchemes[g].colors[f-e];if(this._isGreyScale(k,h)&&c.indexOf("#")==0){c=a.jqx.toGreyScale(c)}return c}}},getColorScheme:function(b){for(var c in this.colorSchemes){if(this.colorSchemes[c].name==b){return this.colorSchemes[c].colors}}return undefined},addColorScheme:function(c,b){for(var d in this.colorSchemes){if(this.colorSchemes[d].name==c){this.colorSchemes[d].colors=b;return}}this.colorSchemes.push({name:c,colors:b})},removeColorScheme:function(b){for(var c in this.colorSchemes){if(this.colorSchemes[c].name==b){this.colorSchemes.splice(c,1);break}}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(g,i,c,f,b,d){if(g==undefined){return""}if(this._isObject(g)&&!c){return""}if(c){if(!a.isFunction(c)){return g.toString()}try{return c(g,d,b,f)}catch(h){return h.message}}if(this._isNumber(g)){return this._formatNumber(g,i)}if(this._isDate(g)){return this._formatDate(g,i)}if(i){return(i.prefix||"")+g.toString()+(i.sufix||"")}return g.toString()},_getFormattedValue:function(f,h,y,p,d,l){var w=this.seriesGroups[f];var n=w.series[h];var m="";var j=p,k=d;if(!k){k=n.formatFunction||w.formatFunction}if(!j){j=n.formatSettings||w.formatSettings}if(!n.formatFunction&&n.formatSettings){k=undefined}var o={},t=0;for(var b in n){if(b.indexOf("dataField")==0){o[b.substring(9).toLowerCase()]=this._getDataValue(y,n[b],f);t++}}if(t==0){o=this._getDataValue(y,undefined,f)}if(w.type.indexOf("waterfall")!=-1&&this._isSummary(f,y)){o=this._renderData[f].offsets[h][y].value;t=0}if(k&&a.isFunction(k)){try{return k(t==1?o[""]:o,y,n,w)}catch(x){return x.message}}if(t==1&&this._isPieGroup(f)){return this._formatValue(o[""],j,k,f,h,y)}if(t>0){var u=0;for(var b in o){if(u>0&&m!=""){m+="<br>"}var r="dataField"+(b.length>0?b.substring(0,1).toUpperCase()+b.substring(1):"");var q="displayText"+(b.length>0?b.substring(0,1).toUpperCase()+b.substring(1):"");var v=n[q]||n[r];var c=o[b];if(undefined!=c){c=this._formatValue(c,j,k,f,h,y)}else{continue}if(l===true){m+=c}else{m+=v+": "+c}u++}}else{if(undefined!=o){m=this._formatValue(o,j,k,f,h,y)}}return m||""},_isNumberAsString:function(d){if(typeof(d)!="string"){return false}d=a.trim(d);for(var b=0;b<d.length;b++){var c=d.charAt(b);if((c>="0"&&c<="9")||c==","||c=="."){continue}if(c=="-"&&b==0){continue}if((c=="("&&b==0)||(c==")"&&b==d.length-1)){continue}return false}return true},_castAsDate:function(d){if(d instanceof Date&&!isNaN(d)){return d}if(typeof(d)=="string"){var c=new Date(d);if(!isNaN(c)){if(d.indexOf(":")==-1){c.setHours(0,0,0,0)}}else{if(a.jqx.dataFormat){var b=a.jqx.dataFormat.tryparsedate(d);if(b){c=b}else{c=this._parseISO8601Date(d)}}else{c=this._parseISO8601Date(d)}}if(c!=undefined&&!isNaN(c)){return c}}return undefined},_parseISO8601Date:function(g){var k=g.split(" ");if(k.length<0){return NaN}var b=k[0].split("-");var c=k.length==2?k[1].split(":"):"";var f=b[0];var h=b.length>1?b[1]-1:0;var i=b.length>2?b[2]:1;var d=c[1];var e=c.length>1?c[1]:0;var d=c.length>2?c[2]:0;var j=c.length>3?c[3]:0;return new Date(f,h,i,d,e,j)},_castAsNumber:function(c){if(c instanceof Date&&!isNaN(c)){return c.valueOf()}if(typeof(c)=="string"){if(this._isNumber(c)){c=parseFloat(c)}else{if(!/[a-zA-Z]/.test(c)){var b=new Date(c);if(b!=undefined){c=b.valueOf()}}}}return c},_isNumber:function(b){if(typeof(b)=="string"){if(this._isNumberAsString(b)){b=parseFloat(b)}}return typeof b==="number"&&isFinite(b)},_isDate:function(b){return b instanceof Date&&!isNaN(b.getDate())},_isBoolean:function(b){return typeof b==="boolean"},_isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},_formatDate:function(c,b){return c.toString()},_formatNumber:function(n,e){if(!this._isNumber(n)){return n}e=e||{};var q=e.decimalSeparator||".";var o=e.thousandsSeparator||"";var m=e.prefix||"";var p=e.sufix||"";var h=e.decimalPlaces;if(isNaN(h)){h=((n*100!=parseInt(n)*100)?2:0)}var l=e.negativeWithBrackets||false;var g=(n<0);if(g&&l){n*=-1}var d=n.toString();var b;var k=Math.pow(10,h);d=(Math.round(n*k)/k).toString();if(isNaN(d)){d=""}b=d.lastIndexOf(".");if(h>0){if(b<0){d+=q;b=d.length-1}else{if(q!=="."){d=d.replace(".",q)}}while((d.length-1-b)<h){d+="0"}}b=d.lastIndexOf(q);b=(b>-1)?b:d.length;var f=d.substring(b);var c=0;for(var j=b;j>0;j--,c++){if((c%3===0)&&(j!==b)&&(!g||(j>1)||(g&&l))){f=o+f}f=d.charAt(j-1)+f}d=f;if(g&&l){d="("+d+")"}return m+d+p},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_calculateControlPoints:function(g,f){var e=g[f],m=g[f+1],d=g[f+2],j=g[f+3],c=g[f+4],i=g[f+5];var l=0.4;var o=Math.sqrt(Math.pow(d-e,2)+Math.pow(j-m,2));var b=Math.sqrt(Math.pow(c-d,2)+Math.pow(i-j,2));var h=(o+b);if(h==0){h=1}var n=l*o/h;var k=l-n;return[d+n*(e-c),j+n*(m-i),d-k*(e-c),j-k*(m-i)]},_getBezierPoints:function(d){var c="";var h=[],e=[];var g=d.split(" ");for(var f=0;f<g.length;f++){var j=g[f].split(",");h.push(parseFloat(j[0]));h.push(parseFloat(j[1]));if(isNaN(h[h.length-1])||isNaN(h[h.length-2])){continue}}var b=h.length;if(b<=1){return""}else{if(b==2){c="M"+a.jqx._ptrnd(h[0])+","+a.jqx._ptrnd(h[1])+" L"+a.jqx._ptrnd(h[0]+1)+","+a.jqx._ptrnd(h[1]+1)+" ";return c}}for(var f=0;f<b-4;f+=2){e=e.concat(this._calculateControlPoints(h,f))}for(var f=2;f<b-5;f+=2){c+=" C"+a.jqx._ptrnd(e[2*f-2])+","+a.jqx._ptrnd(e[2*f-1])+" "+a.jqx._ptrnd(e[2*f])+","+a.jqx._ptrnd(e[2*f+1])+" "+a.jqx._ptrnd(h[f+2])+","+a.jqx._ptrnd(h[f+3])+" "}if(b<4||(Math.abs(h[0]-h[2])<3||Math.abs(h[1]-h[3])<3)){c="M"+a.jqx._ptrnd(h[0])+","+a.jqx._ptrnd(h[1])+" L"+a.jqx._ptrnd(h[2])+","+a.jqx._ptrnd(h[3])+" "+c}else{c="M"+a.jqx._ptrnd(h[0])+","+a.jqx._ptrnd(h[1])+" Q"+a.jqx._ptrnd(e[0])+","+a.jqx._ptrnd(e[1])+" "+a.jqx._ptrnd(h[2])+","+a.jqx._ptrnd(h[3])+" "+c}if(Math.abs(h[b-2]-h[b-4])<3||Math.abs(h[b-1]-h[b-3])<3){c+=" L"+a.jqx._ptrnd(h[b-2])+","+a.jqx._ptrnd(h[b-1])+" "}else{c+=" Q"+a.jqx._ptrnd(e[b*2-10])+","+a.jqx._ptrnd(e[b*2-9])+" "+a.jqx._ptrnd(h[b-2])+","+a.jqx._ptrnd(h[b-1])+" "}return c},_animTickInt:50,_createAnimationGroup:function(b){if(!this._animGroups){this._animGroups={}}this._animGroups[b]={animations:[],startTick:NaN}},_startAnimation:function(c){var e=new Date();var b=e.getTime();this._animGroups[c].startTick=b;this._runAnimation();this._enableAnimTimer()},_enqueueAnimation:function(e,d,c,g,f,b,h){if(g<0){g=0}if(h==undefined){h="easeInOutSine"}this._animGroups[e].animations.push({key:d,properties:c,duration:g,fn:f,context:b,easing:h})},_stopAnimations:function(){clearTimeout(this._animtimer);this._animtimer=undefined;this._animGroups=undefined},_enableAnimTimer:function(){if(!this._animtimer){var b=this;this._animtimer=setTimeout(function(){b._runAnimation()},this._animTickInt)}},_runAnimation:function(q){if(this._animGroups){var t=new Date();var h=t.getTime();var o={};for(var l in this._animGroups){var s=this._animGroups[l].animations;var m=this._animGroups[l].startTick;var g=0;for(var n=0;n<s.length;n++){var u=s[n];var b=(h-m);if(u.duration>g){g=u.duration}var r=u.duration>0?b/u.duration:1;var k=r;if(u.easing&&u.duration!=0){k=a.easing[u.easing](r,b,0,1,u.duration)}if(r>1){r=1;k=1}if(u.fn){u.fn(u.key,u.context,k);continue}var f={};for(var l=0;l<u.properties.length;l++){var c=u.properties[l];var e=0;if(r==1){e=c.to}else{e=easeParecent*(c.to-c.from)+c.from}f[c.key]=e}this.renderer.attr(u.key,f)}if(m+g>h){o[l]=({startTick:m,animations:s})}}this._animGroups=o;if(this.renderer instanceof a.jqx.HTML5Renderer){this.renderer.refresh()}}this._animtimer=null;for(var l in this._animGroups){this._enableAnimTimer();break}}})})(jqxBaseFramework);